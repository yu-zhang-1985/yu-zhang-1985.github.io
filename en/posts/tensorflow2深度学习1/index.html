<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tensorflow2æ·±åº¦å­¦ä¹ 1 â€“ Hugo Zzo Theme</title>
    
<script defer src="/js/jquery.min.412b8ff9c5ab32b9019fcd84bcd4a54c0e265a14528474f4ee45b27a20abeaeb.js"></script>

<script defer src="/js/enquire.min.892aac7b040a7d26a529b59ac5a58a2e57a21208657de2b6f9485de30c3117e3.js"></script>

<script defer src="/js/zzo.min.3c0983fb92bee20a024044eb95a72e68ad74c1a8194e2ef2408b20e70f212125.js"></script>



<script>
  var runSearch = function() {
    
    
    var searchLanguages = JSON.parse("[\"en\"]");
    
        var baseurl = "http:\/\/yu-zhang-1985.github.io\/\/en";
    

    if (!searchLanguages) {
      searchLanguages = ['en'];
    }

    var lunrIndex = null;
    var pagesIndex = null;
    var searchResults = null;
    var searchMenu = null;

    function endsWith(str, suffix) {
      return str.indexOf(suffix, str.length - suffix.length) !== -1;
    }

    function initLunr() {
      if (!endsWith(baseurl, "/")) {
        baseurl = baseurl + '/';
      };

      $.getJSON(baseurl + "index.json")
        .done(function (index) {
          pagesIndex = index;
          lunrIndex = lunr(function () {
            this.use(lunr.multiLanguage(...searchLanguages));
            this.ref('uri');
            this.field('title');
            this.field('description');
            this.field('content');
            
            
            

            var that = this;
            index.forEach(function (page) {
              that.add(page);
            });
          });
        })
        .fail(function (jqxhr, textStatus, error) {
          var err = textStatus + ", " + error;
          console.error("Error getting Hugo index file:", err);
        });
    }

    function search(query) {
      return lunrIndex.search(query).map(function (result) {
        return pagesIndex.filter(function (page) {
          return page.uri === result.ref;
        })[0];
      });
    }

    function renderSearchResults(results) {
      searchResults = document.getElementById('search-results');
      searchMenu = document.getElementById('search-menu');
      searchResults.setAttribute('class', 'dropdown is-active');

      var content = document.createElement('div');
      content.setAttribute('class', 'dropdown-content search-content');

      if (results.length > 0) {
        results.forEach(function (result) {
          var item = document.createElement('a');
          item.setAttribute('href', result.uri);
          item.setAttribute('class', 'dropdown-item');
          item.innerHTML = `<div class="menu-item"><div class="menu-item__title">ğŸ“„ ${result.title}</div><div class="menu-item__desc">${result.description ? result.description : result.content}</div></div>`;
          content.appendChild(item);
        });
      } else {
        var item = document.createElement('span');
        item.setAttribute('class', 'dropdown-item');
        item.innerText = 'No results found';
        content.appendChild(item);
      }

      while (searchMenu.hasChildNodes()) {
        searchMenu.removeChild(
          searchMenu.lastChild
        );
      }
      searchMenu.appendChild(content);
    }

    function renderSearchResultsMobile(results) {
      searchResults = document.getElementById('search-mobile-results');

      var content = document.createElement('div');
      content.setAttribute('class', 'mobile-search__content');

      if (results.length > 0) {
        results.forEach(function (result) {
          var item = document.createElement('a');
          item.setAttribute('href', result.uri);
          item.innerHTML = `<div class="mobile-search__item"><div class="mobile-search__item--title">ğŸ“„ ${result.title}</div><div class="mobile-search__item--desc">${result.description ? result.description : result.content}</div></div>`;
          content.appendChild(item);
        });
      } else {
        var item = document.createElement('span');
        content.appendChild(item);
      }

      $('#search-mobile-results').empty();
      searchResults.appendChild(content);
    }

    initLunr();

    $("#search").on('input', function (e) {
      if (!e.target.value) {
        $('#search-results').attr('class', 'dropdown');
        return null;
      }

      if ($(window).width() < 770) {
        return null;
      } 

      var results = search(e.target.value);
      renderSearchResults(results);
    });

    $('#search').on('blur', function () {
      if ($(window).width() < 770) {
        return null;
      }
      setTimeout(function () {
        $('#search-results').attr('class', 'dropdown');
      }, 100);
    });

    $('#search').on('click', function (e) {
      if ($(window).width() < 770) {
        return null;
      }
      if (!e.target.value) {
        $('#search-results').attr('class', 'dropdown');
        return null;
      }
      var results = search(e.target.value);
      renderSearchResults(results);
    });

    $('#search').on('keydown', function (e) {
      if ($(window).width() < 770) {
        return null;
      }
      var items = $('#search-menu .dropdown-item');
      var activeIndex = $('#search-menu .dropdown-item.is-active').index();

      items.removeClass('is-active');
      if (e.key === 'ArrowDown') {
        items.eq(activeIndex + 1).addClass('is-active');
      } else if (e.key === 'ArrowUp') {
        items.eq(activeIndex - 1).addClass('is-active');
      } else if (e.key === 'Enter') {
        var currentItemLink = items.eq(activeIndex).attr('href');
        if (currentItemLink) {
          location.href = currentItemLink;
        }
      }
    });

    $("#search-mobile").on('input', function(e) {
      if (!e.target.value) {
        $('#search-mobile-results').empty();
        return null;
      }

      var results = search(e.target.value);
      renderSearchResultsMobile(results);
    });
  }
</script>    
    


<link rel="stylesheet" href="/css/main.min.css">


    <meta name="description" content="" />
<meta name="created" content="2019-12-12T14:28:20&#43;0800">
<meta name="modified" content="2019-12-12T14:28:20&#43;0800">


<meta property="og:site_name" content="Hugo Zzo Theme">
<meta property="og:title" content="Tensorflow2æ·±åº¦å­¦ä¹ 1">
<meta property="og:url" content="http://yu-zhang-1985.github.io/en/posts/tensorflow2%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/">
<meta property="og:type" content="article">

<meta name="generator" content="Hugo 0.59.1" />
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="theme-color" content="#ffffff">


<link rel="canonical" href="http://yu-zhang-1985.github.io/en/posts/tensorflow2%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "headline": "Tensorflow2æ·±åº¦å­¦ä¹ 1",
    "datePublished": "2019-12-12T14:28:20+08:00",
    "dateModified": "2019-12-12T14:28:20+08:00",
    "url" : "http://yu-zhang-1985.github.io/en/posts/tensorflow2%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/",
    "description": "Tensorflow2æ·±åº¦å­¦ä¹ 1 åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡ é€šè¿‡tf.random.normal(shape, mean=0.0, stddev=1.0)å¯ä»¥åˆ›å»ºå½¢çŠ¶ä¸º s",
    "keywords": ["Python","Tensorflow2.0"],
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "http://yu-zhang-1985.github.io/"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Hugo Zzo Theme",
      "url": "http://yu-zhang-1985.github.io/"
    }
  }
</script>

    






</head>

<body id="root" class="theme__dark">
    <script>
        var localTheme = localStorage.getItem('theme');
            if (localTheme) {
                document.getElementById('root').className = `theme__${localTheme}`;
            }
    </script>
    <div id="body">
        <div class="container wrapper">
            <nav class="navbar" role="navigation" aria-label="main navigation">
  <div class="navbar__brand">
    
    <a href="/en/" title="Home" rel="home" class="navbar__logo-link">
      <img src="/logo.png" alt="Home" class="navbar__logo">
    </a>
    
    <a href="/en/" title="Home" rel="home" class="navbar__title-link">
      <h6 class="navbar__title">HOME</h6>
    </a>    
  </div>
  
  
  
<div id="mobileSearchBtn" class="mobile-search__btn">
  <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
</div>

<div id="search-mobile-container" class="mobile-search hide">
  <div class="mobile-search__top">
    <input id="search-mobile" type="text" aria-label="Mobile Search" placeholder="Search" class="mobile-search__top--input"/>
    <div id="search-mobile-close" class="mobile-search__top--icon">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24"><path opacity=".87" fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/></svg>
    </div>
  </div>
  <div id="search-mobile-results" class="mobile-search__body">
    
  </div>
</div>

  
  <a role="button" class="navbar__burger" aria-label="menu" aria-expanded="false">
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
    <span aria-hidden="true"></span>
  </a>  

  <div class="navbar__menu">
    
    
    <a href="/en/about" class="navbar__menu-item navbar__slide-down">about</a>
    
    
    <a href="/en/archive" class="navbar__menu-item navbar__slide-down">archive</a>
    
    
    <a href="/en/gallery" class="navbar__menu-item navbar__slide-down">gallery</a>
    
    
    <a href="/en/posts" class="navbar__menu-item navbar__slide-down">posts</a>
    
    
    <a href="/en/notes" class="navbar__menu-item navbar__slide-down">notes</a>
    
    
  </div>
</nav>
            
            
<main class="main-main">
  
  <nav class="breadcrumb" aria-label="breadcrumbs">
  <ol>
    
  
  
  
  
  
  <li >    
    
      <a href="http://yu-zhang-1985.github.io/en/">Hugo Zzo Theme</a>            
        
  </li>
  
  
  <li >    
    
      <a href="http://yu-zhang-1985.github.io/en/posts/">Posts</a>
        
  </li>
  
  
  <li  class="is-active" >    
    
      <a href="http://yu-zhang-1985.github.io/en/posts/tensorflow2%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/">Tensorflow2æ·±åº¦å­¦ä¹ 1</a>
        
  </li>
  
  </ol>
  
</nav>
  
  <div class="single">
    <h2 class="single__title">Tensorflow2æ·±åº¦å­¦ä¹ 1</h2>
    <div class="single__meta">
      ğŸ•“ Dec 12, 2019 Â· â˜•7 min read
      <div class="single__tags caption">

  
    ğŸ·ï¸
  
  
  <li>
    <a href="/en/tags/python" class="single__tag">
      #Python
    </a>
  </li>
    

  
  
  <li>
    <a href="/en/tags/tensorflow2.0" class="single__tag">
      #Tensorflow2.0
    </a>
  </li>
    

</div>
    </div>    
    <article class="single__contents">
      

<h1 id="tensorflow2æ·±åº¦å­¦ä¹ 1">Tensorflow2æ·±åº¦å­¦ä¹ 1</h1>

<h3 id="åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡">åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡</h3>

<p>é€šè¿‡tf.random.normal(shape, mean=0.0, stddev=1.0)å¯ä»¥åˆ›å»ºå½¢çŠ¶ä¸º shapeï¼Œå‡å€¼ä¸º meanï¼Œæ ‡å‡†å·®ä¸º stddev çš„æ­£æ€åˆ†å¸ƒğ’©(ğ‘šğ‘’ğ‘ğ‘›, ğ‘ ğ‘¡ğ‘‘ğ‘‘ğ‘’ğ‘£2)ã€‚</p>

<p>ä¾‹å¦‚ï¼Œåˆ›å»ºå‡å€¼ä¸º 0ï¼Œ æ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span></code></pre></td></tr></table>
</div>
</div>
<p>åˆ›å»ºå‡å€¼ä¸º 1ï¼Œæ ‡å‡†å·®ä¸º 2 çš„æ­£å¤ªåˆ†å¸ƒï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">mean</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">stddev</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>  </code></pre></td></tr></table>
</div>
</div>
<p>é€šè¿‡tf.random.uniform(shape, minval=0, maxval=None, dtype=tf.float32)å¯ä»¥åˆ›å»ºé‡‡æ ·è‡ª
[ğ‘šğ‘–ğ‘›ğ‘£ğ‘ğ‘™, ğ‘šğ‘ğ‘¥ğ‘£ğ‘ğ‘™]åŒºé—´çš„å‡åŒ€åˆ†å¸ƒçš„å¼ é‡ã€‚</p>

<p>ä¾‹å¦‚åˆ›å»ºé‡‡æ ·è‡ªåŒºé—´[0,1]ï¼Œ shape ä¸º[2,2]çš„çŸ©é˜µ:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>  </code></pre></td></tr></table>
</div>
</div>
<h3 id="åˆ›å»ºåºåˆ—">åˆ›å»ºåºåˆ—</h3>

<p>åœ¨å¾ªç¯è®¡ç®—æˆ–è€…å¯¹å¼ é‡è¿›è¡Œç´¢å¼•æ—¶ï¼Œç»å¸¸éœ€è¦åˆ›å»ºä¸€æ®µè¿ç»­çš„æ•´å½¢åºåˆ—ï¼Œå¯ä»¥é€šè¿‡tf.range()å‡½æ•°å®ç°ã€‚ tf.range(limit, delta=1)å¯ä»¥åˆ›å»º[0, ğ‘™ğ‘–ğ‘šğ‘–ğ‘¡)ä¹‹é—´ï¼Œæ­¥é•¿ä¸º delta çš„æ•´å½¢åºåˆ—ï¼Œä¸åŒ…å« limit æœ¬èº«ã€‚</p>

<p>ä¾‹å¦‚ï¼Œåˆ›å»º 0~9ï¼Œæ­¥é•¿ä¸º 1 çš„æ•´å½¢åºåˆ—</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">tf</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<h2 id="tensorflow-è¿›é˜¶">Tensorflow è¿›é˜¶</h2>

<h4 id="åˆå¹¶ä¸åˆ†å‰²">åˆå¹¶ä¸åˆ†å‰²</h4>

<h5 id="åˆå¹¶">åˆå¹¶</h5>

<p>åˆå¹¶æ˜¯æŒ‡å°†å¤šä¸ªå¼ é‡åœ¨æŸä¸ªç»´åº¦ä¸Šåˆå¹¶ä¸ºä¸€ä¸ªå¼ é‡ã€‚ ä»¥æŸå­¦æ ¡ç­çº§æˆç»©å†Œæ•°æ®ä¸ºä¾‹ï¼Œ
è®¾å¼ é‡ A ä¿å­˜äº†æŸå­¦æ ¡ 1-4 å·ç­çº§çš„æˆç»©å†Œï¼Œæ¯ä¸ªç­çº§ 35 ä¸ªå­¦ç”Ÿï¼Œå…± 8 é—¨ç§‘ç›®ï¼Œåˆ™å¼ é‡ A
çš„ shape ä¸ºï¼š [4,35,8]ï¼› åŒæ ·çš„æ–¹å¼ï¼Œå¼ é‡ B ä¿å­˜äº†å‰©ä¸‹çš„ 6 ä¸ªç­çº§çš„æˆç»©å†Œï¼Œ shape ä¸º
[6,35,8]ã€‚é€šè¿‡åˆå¹¶ 2 ä¸ªæˆç»©å†Œï¼Œ ä¾¿å¯å¾—åˆ°å­¦æ ¡æ‰€æœ‰ç­çº§çš„æˆç»©å†Œå¼ é‡ Cï¼Œ shape åº”ä¸º
[10,35,8]ã€‚ è¿™å°±æ˜¯å¼ é‡åˆå¹¶çš„æ„ä¹‰æ‰€åœ¨ã€‚ å¼ é‡çš„åˆå¹¶å¯ä»¥ä½¿ç”¨æ‹¼æ¥(Concatenate)å’Œå †å 
(Stack)æ“ä½œå®ç°ï¼Œæ‹¼æ¥å¹¶ä¸ä¼šäº§ç”Ÿæ–°çš„ç»´åº¦ï¼Œè€Œå †å ä¼šåˆ›å»ºæ–°ç»´åº¦ã€‚é€‰æ‹©ä½¿ç”¨æ‹¼æ¥è¿˜æ˜¯å †
å æ“ä½œæ¥åˆå¹¶å¼ é‡ï¼Œå–å†³äºå…·ä½“çš„åœºæ™¯æ˜¯å¦éœ€è¦åˆ›å»ºæ–°ç»´åº¦ã€‚</p>

<p><strong>æ‹¼æ¥</strong>åœ¨TensorFlow ä¸­ï¼Œå¯ä»¥é€šè¿‡ tf.concat(tensors, axis)ï¼Œå…¶ä¸­ tensors ä¿å­˜äº†æ‰€æœ‰éœ€è¦
åˆå¹¶çš„å¼ é‡ Listï¼Œ axis æŒ‡å®šéœ€è¦åˆå¹¶çš„ç»´åº¦ã€‚å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œ è¿™é‡Œç­çº§ç»´åº¦ç´¢å¼•å·ä¸º 0ï¼Œ
å³ axis=0ï¼Œ åˆå¹¶å¼ é‡ A,B å¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">6</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[</span> <span class="mf">8.8570964e-01</span><span class="p">,</span>  <span class="mf">5.4271686e-01</span><span class="p">,</span>  <span class="mf">6.7099530e-01</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
          <span class="mf">1.2183920e+00</span><span class="p">,</span>  <span class="mf">1.6942458e+00</span><span class="p">,</span>  <span class="mf">5.6671137e-01</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">1.7924213e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.1710000e-03</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.6756008e-01</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">3.2004917e-01</span><span class="p">,</span>  <span class="mf">8.6718071e-01</span><span class="p">,</span>  <span class="mf">4.4047076e-01</span><span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">5.8158237e-01</span><span class="p">,</span>  <span class="mf">9.7340065e-01</span><span class="p">,</span>  <span class="mf">6.4484423e-01</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
          <span class="mf">2.2783038e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.4327374e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.6929630e+00</span><span class="p">],</span>
        <span class="o">...</span><span class="p">,</span></code></pre></td></tr></table>
</div>
</div>
<p>åˆå¹¶æ“ä½œå¯ä»¥åœ¨ä»»æ„çš„ç»´åº¦ä¸Šè¿›è¡Œï¼Œå”¯ä¸€çš„çº¦æŸæ˜¯éåˆå¹¶ç»´åº¦çš„é•¿åº¦å¿…é¡»ä¸€è‡´ã€‚ æ¯”å¦‚ shape
ä¸º[4,32,8]å’Œ shape ä¸º[6,35,8]çš„å¼ é‡åˆ™ä¸èƒ½ç›´æ¥åœ¨ç­çº§ç»´åº¦ä¸Šè¿›è¡Œåˆå¹¶ï¼Œå› ä¸ºå­¦ç”Ÿæ•°ç»´åº¦çš„
é•¿åº¦å¹¶ä¸ä¸€è‡´ï¼Œä¸€ä¸ªä¸º 32ï¼Œå¦ä¸€ä¸ªä¸º 35ã€‚</p>

<p><strong>å †å </strong> tf.concat ç›´æ¥åœ¨ç°æœ‰ç»´åº¦ä¸Šé¢åˆå¹¶æ•°æ®ï¼Œ å¹¶ä¸ä¼šåˆ›å»ºæ–°çš„ç»´åº¦ã€‚ å¦‚æœåœ¨åˆå¹¶æ•°æ®
æ—¶ï¼Œå¸Œæœ›åˆ›å»ºä¸€ä¸ªæ–°çš„ç»´åº¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ tf.stack æ“ä½œã€‚è€ƒè™‘å¼ é‡ A ä¿å­˜äº†æŸä¸ªç­çº§çš„æˆ
ç»©å†Œï¼Œ shape ä¸º[35,8]ï¼Œ å¼ é‡ B ä¿å­˜äº†å¦ä¸€ä¸ªç­çº§çš„æˆç»©å†Œï¼Œ shape ä¸º[35,8]ã€‚åˆå¹¶è¿™ 2 ä¸ªç­
çº§çš„æ•°æ®æ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç»´åº¦ï¼Œå®šä¹‰ä¸ºç­çº§ç»´åº¦ï¼Œ æ–°ç»´åº¦å¯ä»¥é€‰æ‹©æ”¾ç½®åœ¨ä»»æ„ä½ç½®ï¼Œ
ä¸€èˆ¬æ ¹æ®å¤§å°ç»´åº¦çš„ç»éªŒæ³•åˆ™ï¼Œå°†è¾ƒå¤§æ¦‚å¿µçš„ç­çº§ç»´åº¦æ”¾ç½®åœ¨å­¦ç”Ÿç»´åº¦ä¹‹å‰ï¼Œ åˆ™åˆå¹¶åçš„
å¼ é‡çš„æ–° shape åº”ä¸º[2,35,8]</p>

<p>ä½¿ç”¨ tf.stack(tensors, axis)å¯ä»¥åˆå¹¶å¤šä¸ªå¼ é‡ tensorsï¼Œå…¶ä¸­ axis æŒ‡å®šæ’å…¥æ–°ç»´åº¦çš„ä½
ç½®ï¼Œ axis çš„ç”¨æ³•ä¸ tf.expand_dims çš„ä¸€è‡´ï¼Œå½“axis â‰¥ 0æ—¶ï¼Œåœ¨ axis ä¹‹å‰æ’å…¥;å½“axis &lt; 0æ—¶ï¼Œ
åœ¨ axis ä¹‹åæ’å…¥æ–°ç»´åº¦ã€‚ ä¾‹å¦‚ shape ä¸º[ğ‘, ğ‘, â„, ğ‘¤]çš„å¼ é‡ï¼Œåœ¨ä¸åŒä½ç½®é€šè¿‡ stack æ“ä½œæ’å…¥
æ–°ç»´åº¦ï¼Œ axis å‚æ•°å¯¹åº”çš„æ’å…¥ä½ç½®è®¾ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>

<p><img src="C:Users300013942AppDataRoamingTyporatypora-user-imagesimage-20191212104156990.png" alt="image-20191212104156990" /></p>

<p>å †å æ–¹å¼åˆå¹¶è¿™ 2 ä¸ªç­çº§æˆç»©å†Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">a</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[</span><span class="o">-</span><span class="mf">2.07745954e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.20502543e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.23655784e-01</span><span class="p">,</span>
          <span class="mf">5.48114002e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.88472852e-01</span><span class="p">,</span>  <span class="mf">1.11393249e+00</span><span class="p">,</span>
          <span class="mf">5.76643407e-01</span><span class="p">,</span>  <span class="mf">2.46200943e+00</span><span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.34531006e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.47483051e-01</span><span class="p">,</span>  <span class="mf">2.26597333e+00</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">1.91579258e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.96486470e-02</span><span class="p">,</span>  <span class="mf">1.14866197e+00</span><span class="p">,</span>
          <span class="mf">6.14816546e-01</span><span class="p">,</span>  <span class="mf">3.88844609e-01</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">2.80898750e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.78563046e-01</span><span class="p">,</span>  <span class="mf">3.02676171e-01</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">8.55822623e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.33168280e+00</span><span class="p">,</span>  <span class="mf">4.88721691e-02</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">2.57279962e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">8.46524596e-01</span><span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">3.17433141e-02</span><span class="p">,</span>  <span class="mf">7.61308789e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.20268703e-01</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">1.77424073e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.46247709e+00</span><span class="p">,</span>  <span class="mf">1.39056846e-01</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">4.85520959e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.28335166e-01</span><span class="p">],</span>
        <span class="p">[</span> <span class="mf">3.54683638e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.66821671e-01</span><span class="p">,</span>  <span class="mf">7.51357496e-01</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">1.14020419e+00</span><span class="p">,</span>  <span class="mf">1.50615618e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">5.70143521e-01</span><span class="p">,</span>
          <span class="mf">3.97633016e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">4.33588564e-01</span><span class="p">],</span><span class="o">...</span></code></pre></td></tr></table>
</div>
</div>
<p>tf.stack ä¹Ÿéœ€è¦æ»¡è¶³å¼ é‡å †å åˆå¹¶æ¡ä»¶ï¼Œå®ƒéœ€è¦æ‰€æœ‰åˆå¹¶çš„å¼ é‡ shape å®Œå…¨ä¸€è‡´æ‰å¯åˆå¹¶ã€‚</p>

<h5 id="åˆ†å‰²">åˆ†å‰²</h5>

<p>åˆå¹¶æ“ä½œçš„é€†è¿‡ç¨‹å°±æ˜¯åˆ†å‰²ï¼Œå°†ä¸€ä¸ªå¼ é‡åˆ†æ‹†ä¸ºå¤šä¸ªå¼ é‡ã€‚ç»§ç»­è€ƒè™‘æˆç»©å†Œçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¾—åˆ°æ•´ä¸ªå­¦æ ¡çš„æˆç»©å†Œå¼ é‡ï¼Œ shape ä¸º[10,35,8]ï¼Œç°åœ¨éœ€è¦å°†æ•°æ®åœ¨ç­çº§ç»´åº¦åˆ‡å‰²ä¸º10 ä¸ªå¼ é‡ï¼Œæ¯ä¸ªå¼ é‡ä¿å­˜äº†å¯¹åº”ç­çº§çš„æˆç»©å†Œã€‚
é€šè¿‡ tf.split(x, axis, num_or_size_splits)å¯ä»¥å®Œæˆå¼ é‡çš„åˆ†å‰²æ“ä½œï¼Œå…¶ä¸­
â‘ xï¼šå¾…åˆ†å‰²å¼ é‡
â‘ axisï¼šåˆ†å‰²çš„ç»´åº¦ç´¢å¼•å·
â‘ num_or_size_splitsï¼šåˆ‡å‰²æ–¹æ¡ˆã€‚å½“ num_or_size_splits ä¸ºå•ä¸ªæ•°å€¼æ—¶ï¼Œå¦‚ 10ï¼Œè¡¨ç¤ºåˆ‡å‰²
ä¸º 10 ä»½ï¼›å½“ num_or_size_splits ä¸º List æ—¶ï¼Œæ¯ä¸ªå…ƒç´ è¡¨ç¤ºæ¯ä»½çš„é•¿åº¦ï¼Œå¦‚[2,4,2,2]è¡¨ç¤ºåˆ‡å‰²ä¸º 4 ä»½ï¼Œæ¯ä»½çš„é•¿åº¦åˆ†åˆ«ä¸º 2,4,2,2</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">num_or_size_splits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="mi">10</span>
<span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[[</span><span class="o">-</span><span class="mf">0.85184807</span><span class="p">,</span>  <span class="mf">1.3023669</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.6299309</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.0691075</span> <span class="p">,</span>
          <span class="mf">0.89515835</span><span class="p">,</span>  <span class="mf">1.5502766</span> <span class="p">,</span>  <span class="mf">0.73648924</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.28014854</span><span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">1.1703638</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.0702999</span> <span class="p">,</span>  <span class="mf">0.14448726</span><span class="p">,</span>  <span class="mf">0.21638253</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">1.0922323</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.70183253</span><span class="p">,</span>  <span class="mf">0.7688517</span> <span class="p">,</span>  <span class="mf">0.254894</span>  <span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">0.19054046</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.94894826</span><span class="p">,</span>  <span class="mf">0.509884</span>  <span class="p">,</span> <span class="o">-</span><span class="mf">0.10021583</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">1.8817822</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.6811145</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.8317199</span> <span class="p">,</span> <span class="o">-</span><span class="mf">2.0539005</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.35156137</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1522366</span> <span class="p">,</span>  <span class="mf">0.881225</span>  <span class="p">,</span>  <span class="mf">0.41727147</span><span class="p">,</span>
         <span class="o">-</span><span class="mf">0.3673428</span> <span class="p">,</span>  <span class="mf">0.28644273</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7694335</span> <span class="p">,</span>  <span class="mf">1.9294138</span> <span class="p">],</span>
        <span class="p">[</span> <span class="mf">0.2886285</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.28281617</span><span class="p">,</span>  <span class="mf">2.085483</span>  <span class="p">,</span>  <span class="mf">0.6884915</span> <span class="p">,</span>
         <span class="o">-</span><span class="mf">0.74251384</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.04762862</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.6109419</span> <span class="p">,</span>  <span class="mf">0.3967676</span> <span class="p">],</span>
        <span class="p">[</span><span class="o">-</span><span class="mf">0.16406545</span><span class="p">,</span>  <span class="mf">1.6274209</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.7666724</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.13634756</span><span class="p">,</span>
          <span class="mf">1.1297457</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.51879525</span><span class="p">,</span>  <span class="mf">0.07458926</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.86752087</span><span class="p">],</span><span class="o">...</span></code></pre></td></tr></table>
</div>
</div>
<p>ç‰¹åˆ«åœ°ï¼Œå¦‚æœå¸Œæœ›åœ¨æŸä¸ªç»´åº¦ä¸Šå…¨éƒ¨æŒ‰é•¿åº¦ä¸º 1 çš„æ–¹å¼åˆ†å‰²ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ tf.unstack(x,
axis)ã€‚è¿™ç§æ–¹å¼æ˜¯ tf.split çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œåˆ‡å‰²é•¿åº¦å›ºå®šä¸º 1ï¼Œåªéœ€è¦æŒ‡å®šåˆ‡å‰²ç»´åº¦å³
å¯ã€‚ä¾‹å¦‚ï¼Œå°†æ€»æˆç»©å†Œå¼ é‡åœ¨ç­çº§ç»´åº¦è¿›è¡Œ unstackï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="nb">len</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="mi">10</span>
<span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">35</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[</span> <span class="mf">2.3499814e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.1842293e+00</span><span class="p">,</span>  <span class="mf">1.3272552e+00</span><span class="p">,</span>  <span class="mf">6.4903384e-01</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">1.9246280e-01</span><span class="p">,</span>  <span class="mf">1.3754971e+00</span><span class="p">,</span>  <span class="mf">3.4612319e-01</span><span class="p">,</span>  <span class="mf">1.6372271e+00</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.3820176e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2983169e-03</span><span class="p">,</span>  <span class="mf">1.5911472e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5614045e+00</span><span class="p">,</span>
         <span class="mf">1.0038549e+00</span><span class="p">,</span>  <span class="mf">1.5761454e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.1039929e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8006409e-01</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.2048551e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2589523e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2453424e-02</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5870620e+00</span><span class="p">,</span>
         <span class="mf">5.9980989e-01</span><span class="p">,</span>  <span class="mf">3.7658808e-01</span><span class="p">,</span>  <span class="mf">1.5330039e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.3075413e-01</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">1.2049198e+00</span><span class="p">,</span>  <span class="mf">1.5333800e+00</span><span class="p">,</span>  <span class="mf">2.1740818e-01</span><span class="p">,</span>  <span class="mf">5.0086784e-01</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">7.3233676e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2100717e+00</span><span class="p">,</span>  <span class="mf">9.9705887e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.0708323e-01</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">9.0880913e-01</span><span class="p">,</span>  <span class="mf">3.3859581e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.3015666e-01</span><span class="p">,</span>  <span class="mf">2.2648830e+00</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">2.0122778e+00</span><span class="p">,</span>  <span class="mf">1.6395996e+00</span><span class="p">,</span>  <span class="mf">2.4187420e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.3059950e-01</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">2.1328552e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.8336847e-01</span><span class="p">,</span>  <span class="mf">8.2249206e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.4364395e+00</span><span class="p">,</span>
         <span class="mf">2.9055530e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.8072761e-01</span><span class="p">,</span>  <span class="mf">9.2565483e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.2752402e-01</span><span class="p">],</span>
       <span class="p">[</span> <span class="mf">8.4056842e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.3818415e-02</span><span class="p">,</span>  <span class="mf">4.6472155e-02</span><span class="p">,</span>  <span class="mf">1.5118374e-01</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">2.2872338e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.4693606e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.3184593e+00</span><span class="p">,</span>  <span class="mf">1.5431756e-01</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">6.4098752e-01</span><span class="p">,</span>  <span class="mf">7.9867637e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.4770398e-01</span><span class="p">,</span>  <span class="mf">1.2196998e-01</span><span class="p">,</span>
        <span class="o">-</span><span class="mf">2.0005221e+00</span><span class="p">,</span>  <span class="mf">8.0921733e-01</span><span class="p">,</span>  <span class="mf">9.0594894e-01</span><span class="p">,</span>  <span class="mf">1.0971487e+00</span><span class="p">],</span>
       <span class="p">[</span><span class="o">-</span><span class="mf">4.4344936e-02</span><span class="p">,</span> <span class="o">-</span><span class="mf">7.4685121e-01</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.5849980e+00</span><span class="p">,</span>  <span class="mf">4.7536910e-01</span><span class="p">,</span>
         <span class="mf">1.1413414e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.2368580e+00</span><span class="p">,</span>  <span class="mf">1.6116165e+00</span><span class="p">,</span> <span class="o">-</span><span class="mf">3.3580515e-01</span><span class="p">],</span><span class="o">...</span></code></pre></td></tr></table>
</div>
</div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ tf.unstack åˆ‡å‰²åï¼Œ shape å˜ä¸º[35,8]ï¼Œå³ç­çº§ç»´åº¦æ¶ˆå¤±äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ tf.split
åŒºåˆ«ä¹‹å¤„ã€‚</p>

<h4 id="æ•°æ®ç»Ÿè®¡">æ•°æ®ç»Ÿè®¡</h4>

<h5 id="å‘é‡èŒƒæ•°">å‘é‡èŒƒæ•°</h5>

<p>å‘é‡èŒƒæ•°(Vector norm)æ˜¯è¡¨å¾å‘é‡â€œé•¿åº¦â€çš„ä¸€ç§åº¦é‡æ–¹æ³•ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå¸¸ç”¨æ¥
è¡¨ç¤ºå¼ é‡çš„æƒå€¼å¤§å°ï¼Œæ¢¯åº¦å¤§å°ç­‰ã€‚å¸¸ç”¨çš„å‘é‡èŒƒæ•°æœ‰ï¼š</p>

<p>â‘ L1 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œ</p>

<p>$$||x||<em>1=\sum</em>{i}|x_i|$$</p>

<p>â‘ L2 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹å’Œï¼Œå†å¼€æ ¹å·</p>

<p>$$||x||<em>2=\sqrt{\sum</em>{i}|x|^2}$$</p>

<p>â‘ âˆ -èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼çš„æœ€å¤§å€¼</p>

<p>$$||x||_\infty=\max_i(|x_i|ï¼‰$$</p>

<p>å¯¹äºçŸ©é˜µã€å¼ é‡ï¼ŒåŒæ ·å¯ä»¥åˆ©ç”¨å‘é‡èŒƒæ•°çš„è®¡ç®—å…¬å¼ï¼Œç­‰ä»·äºå°†çŸ©é˜µã€å¼ é‡æ‰“å¹³æˆå‘é‡å
è®¡ç®—ã€‚</p>

<p>åœ¨ TensorFlow ä¸­ï¼Œå¯ä»¥é€šè¿‡ tf.norm(x, ord)æ±‚è§£å¼ é‡çš„ L1, L2, âˆç­‰èŒƒæ•°ï¼Œå…¶ä¸­å‚æ•° ord
æŒ‡å®šä¸º 1,2 æ—¶è®¡ç®— L1, L2 èŒƒæ•°ï¼ŒæŒ‡å®šä¸º np.inf æ—¶è®¡ç®—âˆ -èŒƒæ•°ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">ones</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">ord</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">4.0</span><span class="o">&gt;</span>
<span class="n">tf</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">ord</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">2.0</span><span class="o">&gt;</span>
<span class="n">tf</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="nb">ord</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">1.0</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<h5 id="æœ€å¤§æœ€å°å€¼-å‡å€¼-å’Œ">æœ€å¤§æœ€å°å€¼ï¼Œå‡å€¼ï¼Œå’Œ</h5>

<p>é€šè¿‡ tf.reduce_max, tf.reduce_min, tf.reduce_mean, tf.reduce_sum å¯ä»¥æ±‚è§£å¼ é‡åœ¨æŸä¸ªç»´åº¦ä¸Šçš„æœ€å¤§ã€æœ€å°ã€ å‡å€¼ã€å’Œï¼Œä¹Ÿå¯ä»¥æ±‚å…¨å±€æœ€å¤§ã€æœ€å°ã€å‡å€¼ã€å’Œä¿¡æ¯ã€‚
è€ƒè™‘ shape ä¸º[4,10]çš„å¼ é‡ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªç»´åº¦ä»£è¡¨æ ·æœ¬æ•°é‡ï¼Œç¬¬äºŒä¸ªç»´åº¦ä»£è¡¨äº†å½“å‰æ ·æœ¬åˆ†åˆ«å±äº 10 ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œ éœ€è¦æ±‚å‡ºæ¯ä¸ªæ ·æœ¬çš„æ¦‚ç‡æœ€å¤§å€¼ä¸ºï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">reduce_max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„æœ€å¤§å€¼</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0590736</span><span class="p">,</span> <span class="mf">1.9143077</span><span class="p">,</span> <span class="mf">1.4106003</span><span class="p">,</span> <span class="mf">1.1981078</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span>
<span class="n">tf</span><span class="o">.</span><span class="n">reduce_min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„æœ€å°å€¼</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.4143783</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.6075196</span> <span class="p">,</span> <span class="o">-</span><span class="mf">1.0238858</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.79297394</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span> 
<span class="n">tf</span><span class="o">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„å‡å€¼</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mf">0.14184079</span><span class="p">,</span> <span class="mf">0.0247014</span> <span class="p">,</span> <span class="mf">0.11403179</span><span class="p">,</span> <span class="mf">0.07959435</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>å½“ä¸æŒ‡å®š axis å‚æ•°æ—¶ï¼Œ tf.reduce_*å‡½æ•°ä¼šæ±‚è§£å‡ºå…¨å±€å…ƒç´ çš„æœ€å¤§ã€æœ€å°ã€ å‡å€¼ã€å’Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">reduce_max</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">tf</span><span class="o">.</span><span class="n">reduce_min</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">tf</span><span class="o">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="p">(</span><span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">19</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">2.8448734</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">21</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=-</span><span class="mf">2.3243723</span><span class="o">&gt;</span><span class="p">,</span>
 <span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">23</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=-</span><span class="mf">0.03267593</span><span class="o">&gt;</span><span class="p">)</span></code></pre></td></tr></table>
</div>
</div>
<p>åœ¨æ±‚è§£è¯¯å·®å‡½æ•°æ—¶ï¼Œé€šè¿‡ TensorFlow çš„ MSE è¯¯å·®å‡½æ•°å¯ä»¥æ±‚å¾—æ¯ä¸ªæ ·æœ¬çš„è¯¯å·®ï¼Œéœ€è¦è®¡ç®—æ ·æœ¬çš„å¹³å‡è¯¯å·®ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ tf.reduce_mean åœ¨æ ·æœ¬æ•°ç»´åº¦ä¸Šè®¡ç®—å‡å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">one_hot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">depth</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">keras</span><span class="o">.</span><span class="n">losses</span><span class="o">.</span><span class="n">mse</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">out</span><span class="p">)</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reduce_mean</span><span class="p">(</span><span class="n">loss</span><span class="p">)</span>
<span class="n">loss</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">39</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">0.8586455</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>ä¸å‡å€¼å‡½æ•°ç›¸ä¼¼çš„æ˜¯æ±‚å’Œå‡½æ•° tf.reduce_sum(x,axis)ï¼Œ å®ƒå¯ä»¥æ±‚è§£å¼ é‡åœ¨ axis è½´ä¸Šæ‰€æœ‰
ç‰¹å¾çš„å’Œï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">tf</span><span class="o">.</span><span class="n">reduce_sum</span><span class="p">(</span><span class="n">out</span><span class="p">,</span><span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">47</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">2.6859164</span><span class="p">,</span> <span class="o">-</span><span class="mf">2.5817413</span><span class="p">,</span>  <span class="mf">4.8744864</span><span class="p">,</span>  <span class="mf">3.4555972</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>é™¤äº†å¸Œæœ›è·å–å¼ é‡çš„æœ€å€¼ä¿¡æ¯ï¼Œè¿˜å¸Œæœ›è·å¾—æœ€å€¼æ‰€åœ¨çš„ç´¢å¼•å·ï¼Œä¾‹å¦‚åˆ†ç±»ä»»åŠ¡çš„æ ‡ç­¾
é¢„æµ‹ã€‚è€ƒè™‘ 10 åˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬å¾—åˆ°ç¥ç»ç½‘ç»œçš„è¾“å‡ºå¼ é‡ outï¼Œ shape ä¸º[2,10]ï¼Œ ä»£è¡¨äº† 2 ä¸ª
æ ·æœ¬å±äº 10 ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œ ç”±äºå…ƒç´ çš„ä½ç½®ç´¢å¼•ä»£è¡¨äº†å½“å‰æ ·æœ¬å±äºæ­¤ç±»åˆ«çš„æ¦‚ç‡ï¼Œé¢„æµ‹
æ—¶å¾€å¾€ä¼šé€‰æ‹©æ¦‚ç‡å€¼æœ€å¤§çš„å…ƒç´ æ‰€åœ¨çš„ç´¢å¼•å·ä½œä¸ºæ ·æœ¬ç±»åˆ«çš„é¢„æµ‹å€¼ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">softmax</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">out</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">54</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span>
<span class="n">array</span><span class="p">([[</span><span class="mf">0.00528748</span><span class="p">,</span> <span class="mf">0.02471813</span><span class="p">,</span> <span class="mf">0.06049791</span><span class="p">,</span> <span class="mf">0.00718075</span><span class="p">,</span> <span class="mf">0.00608205</span><span class="p">,</span>
        <span class="mf">0.52075624</span><span class="p">,</span> <span class="mf">0.00456582</span><span class="p">,</span> <span class="mf">0.00536407</span><span class="p">,</span> <span class="mf">0.04504047</span><span class="p">,</span> <span class="mf">0.32050705</span><span class="p">],</span>
       <span class="p">[</span><span class="mf">0.0529757</span> <span class="p">,</span> <span class="mf">0.01163471</span><span class="p">,</span> <span class="mf">0.06103916</span><span class="p">,</span> <span class="mf">0.06392826</span><span class="p">,</span> <span class="mf">0.3175848</span> <span class="p">,</span>
        <span class="mf">0.1027843</span> <span class="p">,</span> <span class="mf">0.14814284</span><span class="p">,</span> <span class="mf">0.20859584</span><span class="p">,</span> <span class="mf">0.0232464</span> <span class="p">,</span> <span class="mf">0.01006791</span><span class="p">]],</span>
      <span class="n">dtype</span><span class="o">=</span><span class="n">float32</span><span class="p">)</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>ä»¥ç¬¬ä¸€ä¸ªæ ·æœ¬ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ¦‚ç‡æœ€å¤§çš„ç´¢å¼•ä¸ºğ‘– = 5ï¼Œæœ€å¤§æ¦‚ç‡å€¼ä¸º 0.20859584ã€‚ç”±äºæ¯ä¸ªç´¢å¼•å·ä¸Šçš„æ¦‚ç‡å€¼ä»£è¡¨äº†æ ·æœ¬å±äºæ­¤ç´¢å¼•å·çš„ç±»åˆ«çš„æ¦‚ç‡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªæ ·æœ¬å±äº 5 ç±»çš„æ¦‚ç‡æœ€å¤§ï¼Œåœ¨é¢„æµ‹æ—¶è€ƒè™‘ç¬¬ä¸€ä¸ªæ ·æœ¬åº”è¯¥æœ€æœ‰å¯èƒ½å±äºç±»åˆ« 5ã€‚ è¿™å°±æ˜¯éœ€è¦æ±‚è§£æœ€å¤§å€¼çš„ç´¢å¼•å·çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ã€‚
é€šè¿‡ tf.argmax(x, axis)ï¼Œ tf.argmin(x, axis)å¯ä»¥æ±‚è§£åœ¨ axis è½´ä¸Šï¼Œ x çš„æœ€å¤§å€¼ã€ æœ€å°å€¼æ‰€åœ¨çš„ç´¢å¼•å·:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">pred</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">pred</span>
<span class="o">&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">tf</span><span class="o">.</span><span class="n">Tensor</span><span class="p">:</span> <span class="nb">id</span><span class="o">=</span><span class="mi">56</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int64</span><span class="p">,</span> <span class="n">numpy</span><span class="o">=</span><span class="n">array</span><span class="p">([</span><span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int64</span><span class="p">)</span><span class="o">&gt;</span></code></pre></td></tr></table>
</div>
</div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ 2 ä¸ªæ ·æœ¬æ¦‚ç‡æœ€å¤§å€¼åˆ†åˆ«å‡ºç°åœ¨ç´¢å¼• 5å’Œ4 ä¸Šï¼Œå› æ­¤æœ€æœ‰å¯èƒ½åˆ†åˆ«æ˜¯ç±»åˆ« 5å’Œ4ï¼Œæˆ‘ä»¬å°†ç±»åˆ« 5å’Œ4ä½œä¸ºè¿™ 2 ä¸ªæ ·æœ¬çš„é¢„æµ‹ç±»åˆ«ã€‚</p>

    </article>
    
<div class="whoami__gutter"></div>
<hr class="hr-slash whoami-hr"/>
<div class="whoami">  
  <div class="whoami__image-wrapper">
    
    
      
        <img src="/images/whoami/Avatar.jpg" alt="Yu Zhang" class="whoami__image"/>
            
    
  </div>
  <div class="whoami__contents">
    <div class="whoami__written-by">
      WRITTEN BY
    </div>
    <div class="whoami__title">
      Yu Zhang
    </div>
    <div class="whoami__desc">
      System Engineer, Amarteur Programmer      
    </div>
    <div class="whoami__social">
      
      
      <a href="mailto:zy0424100096@163.com" title="email" aria-label="email">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"/></svg>
      </a>
      
      
      
      <a href="http://example.org/" title="facebook" aria-label="facebook">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24" version="1.1">
<g id="surface2747">
<path fill="currentColor" d="M 11.664062 2.003906 C 6.621094 2.171875 2.375 6.25 2.023438 11.289062 C 1.65625 16.617188 5.46875 21.121094 10.507812 21.878906 L 10.507812 14.648438 L 8.890625 14.648438 C 8.164062 14.648438 7.578125 14.0625 7.578125 13.335938 C 7.578125 12.609375 8.164062 12.023438 8.890625 12.023438 L 10.503906 12.023438 L 10.503906 10.273438 C 10.503906 7.378906 11.914062 6.105469 14.324219 6.105469 C 14.679688 6.105469 14.984375 6.113281 15.242188 6.128906 C 15.878906 6.15625 16.371094 6.6875 16.371094 7.324219 C 16.371094 7.988281 15.835938 8.523438 15.171875 8.523438 L 14.730469 8.523438 C 13.710938 8.523438 13.351562 9.492188 13.351562 10.585938 L 13.351562 12.023438 L 15.222656 12.023438 C 15.8125 12.023438 16.265625 12.550781 16.175781 13.132812 L 16.066406 13.835938 C 15.992188 14.304688 15.589844 14.652344 15.113281 14.652344 L 13.351562 14.652344 L 13.351562 21.898438 C 18.234375 21.234375 22 17.0625 22 12 C 22 6.367188 17.339844 1.820312 11.664062 2.003906 Z M 11.664062 2.003906 "/>
</g>
</svg>

      </a>
      
      
      
      <a href="https://github.com/yu-zhang-1985" title="github" aria-label="github">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 24 24" version="1.1">
<g id="surface3680">
<path fill="currentColor" d="M 10.898438 2.101562 C 6.300781 2.601562 2.601562 6.300781 2.101562 10.800781 C 1.601562 15.5 4.300781 19.699219 8.398438 21.300781 C 8.699219 21.398438 9 21.199219 9 20.800781 L 9 19.199219 C 9 19.199219 8.601562 19.300781 8.101562 19.300781 C 6.699219 19.300781 6.101562 18.101562 6 17.398438 C 5.898438 17 5.699219 16.699219 5.398438 16.398438 C 5.101562 16.300781 5 16.300781 5 16.199219 C 5 16 5.300781 16 5.398438 16 C 6 16 6.5 16.699219 6.699219 17 C 7.199219 17.800781 7.800781 18 8.101562 18 C 8.5 18 8.800781 17.898438 9 17.800781 C 9.101562 17.101562 9.398438 16.398438 10 16 C 7.699219 15.5 6 14.199219 6 12 C 6 10.898438 6.5 9.800781 7.199219 9 C 7.101562 8.800781 7 8.300781 7 7.601562 C 7 7.199219 7 6.601562 7.300781 6 C 7.300781 6 8.699219 6 10.101562 7.300781 C 10.601562 7.101562 11.300781 7 12 7 C 12.699219 7 13.398438 7.101562 14 7.300781 C 15.300781 6 16.800781 6 16.800781 6 C 17 6.601562 17 7.199219 17 7.601562 C 17 8.398438 16.898438 8.800781 16.800781 9 C 17.5 9.800781 18 10.800781 18 12 C 18 14.199219 16.300781 15.5 14 16 C 14.601562 16.5 15 17.398438 15 18.300781 L 15 20.898438 C 15 21.199219 15.300781 21.5 15.699219 21.398438 C 19.398438 19.898438 22 16.300781 22 12.101562 C 22 6.101562 16.898438 1.398438 10.898438 2.101562 Z M 10.898438 2.101562 "/>
</g>
</svg>

      </a>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <a href="http://example.org/" title="twitter" aria-label="twitter">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="25" viewBox="0 0 32 32" version="1.1">
<g id="surface676">
<path fill="currentColor" d="M 28 8.558594 C 27.117188 8.949219 26.167969 9.214844 25.171875 9.332031 C 26.1875 8.722656 26.96875 7.757812 27.335938 6.609375 C 26.386719 7.171875 25.332031 7.582031 24.210938 7.804688 C 23.3125 6.847656 22.03125 6.246094 20.617188 6.246094 C 17.898438 6.246094 15.691406 8.453125 15.691406 11.171875 C 15.691406 11.558594 15.734375 11.933594 15.820312 12.292969 C 11.726562 12.089844 8.097656 10.128906 5.671875 7.148438 C 5.246094 7.875 5.003906 8.722656 5.003906 9.625 C 5.003906 11.332031 5.871094 12.839844 7.195312 13.722656 C 6.386719 13.695312 5.628906 13.476562 4.964844 13.105469 C 4.964844 13.128906 4.964844 13.148438 4.964844 13.167969 C 4.964844 15.554688 6.660156 17.546875 8.914062 17.996094 C 8.5 18.109375 8.066406 18.171875 7.617188 18.171875 C 7.300781 18.171875 6.988281 18.140625 6.691406 18.082031 C 7.316406 20.039062 9.136719 21.460938 11.289062 21.503906 C 9.605469 22.824219 7.480469 23.609375 5.175781 23.609375 C 4.777344 23.609375 4.386719 23.585938 4 23.539062 C 6.179688 24.9375 8.765625 25.753906 11.546875 25.753906 C 20.605469 25.753906 25.558594 18.25 25.558594 11.742188 C 25.558594 11.53125 25.550781 11.316406 25.542969 11.105469 C 26.503906 10.410156 27.339844 9.542969 28 8.558594 Z M 28 8.558594 "/>
</g>
</svg>

      </a>
      
      
      
      
    </div>
  </div>
</div>
<hr class="hr-slash whoami-hr" />

    <div class="related">
    
    
    <h1 class="related__title">
      <hr class="hr-dots" />
      <div>
        See Also
      </div>
      <hr class="hr-dots"/>
    </h1>
    <ul class="related-ul">
        
        <li>
          <a href="/en/posts/python%E5%9F%BA%E7%A1%803/" class="related__link">PythonåŸºç¡€3</a>
        </li>
        
        <li>
          <a href="/en/posts/python%E5%9F%BA%E7%A1%802/" class="related__link">PythonåŸºç¡€2</a>
        </li>
        
        <li>
          <a href="/en/posts/python%E5%9F%BA%E7%A1%801/" class="related__link">PythonåŸºç¡€1</a>
        </li>
        
    </ul>
    
</div>
    <div class="grow"></div>
<div class="pagination-single">
  
    <a href="http://yu-zhang-1985.github.io/en/posts/python%E5%9F%BA%E7%A1%803/" class="pagination-single__left">
      <div class="pagination-single__icon">
        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
      </div>
      <div class="pagination-single__left-title">PythonåŸºç¡€3</div>      
    </a>
  
  <div class="grow"></div>
  
</div>
    
  

    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

  
  <div class="pswp__bg"></div>

  
  <div class="pswp__scroll-wrap">

    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>

    
    <div class="pswp__ui pswp__ui--hidden">

      <div class="pswp__top-bar">

        

        <div class="pswp__counter"></div>

        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

        <button class="pswp__button pswp__button--share" title="Share"></button>

        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

        
        
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip"></div>
      </div>

      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>

      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>

      <div class="pswp__caption">
        <div class="pswp__caption__center"></div>
      </div>

    </div>

  </div>

</div>



    <div class="hide">
    

<div class="search">
  <span class="icon">
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
  </span>
  <input id="search" aria-label="Site Search" class="input" type="text" placeholder="Search" autocomplete="off">
  <div id="search-results" class="dropdown">
    <div id="search-menu" class="dropdown-menu" role="menu">
    </div>
  </div>
</div>


<script defer src="/js/lunr.min.acd53f9a711a300d266d679c0112ec5c1e1c5b7107595f2056081eb4bbb794d5.js"></script>


<script defer src="https://cdn.jsdelivr.net/npm/lunr-languages@1.4.0/min/lunr.stemmer.support.min.js" integrity="sha256-LnITYFhGoYAU7HUJEMsYqKTGC7IyABA7P62e8nsQxwU=" crossorigin="anonymous" title="stemmer"></script>


<script defer src="https://cdn.jsdelivr.net/npm/lunr-languages@1.4.0/min/lunr.multi.min.js" integrity="sha256-l2H0da5582Qg/3FN+ZUO+yZO/8+SMO/VW1EaDeiZ6Xk=" crossorigin="anonymous" title="multiLanguage"></script>



  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  



    </div>
  </div>
</main>


<aside class="main-side">
  


<div class="sidebar">
  <div class="toc__flexbox">
    <h6 class="toc__title">What&#39;s on this Page</h6>
    
      <label class="switch">
        <input id="toggle-toc" aria-label="Toggle TOC" type="checkbox" checked>
        <span class="slider round"></span>
      </label>
    
  </div>
  <div class="toc">
    <ul id="toc"></ul>
  </div>
</div>



</aside>





<script defer src="/js/jquery.min.412b8ff9c5ab32b9019fcd84bcd4a54c0e265a14528474f4ee45b27a20abeaeb.js"></script>

<script defer src="/js/clipboard.min.c168d3a04c45a631be76437054619a4a3b30107960cb9730be96012fef5762b0.js"></script>

<script defer src="/js/enquire.min.892aac7b040a7d26a529b59ac5a58a2e57a21208657de2b6f9485de30c3117e3.js"></script>

<script defer src="/js/prism.min.91a41f2ebc19b458ff1bf40f9b6dcc7a8d1efb4223194f1a3a1b67255db66eda.js"></script>

<script defer src="/js/zzo.min.3c0983fb92bee20a024044eb95a72e68ad74c1a8194e2ef2408b20e70f212125.js"></script>


  
  <script defer src="/js/photoswipe.min.8edf934cf81ca088ec72ef362c66090602eee3e583198ec96690978bcd183531.js"></script>
  
  <script defer src="/js/photoswipe-ui-default.min.efb61f810902a76a0baf817174c11e94d5b5238748a0513db4a310a15e7e3059.js"></script>
  
  <link rel="stylesheet" href="/css/photoswipe/photoswipe.min.css">
  
  <link rel="stylesheet" href="/css/photoswipe/custom-skin.min.css">



  
  <script defer src="/js/jquery.toc.min.53b789a6a84b077cd0169a94e8020ecc68f1714bd2f2e8f120e1d970fe7c872f.js"></script>



















<script>
  window.onload = function() {
    
    $("pre[class*='language-']").each(function () {
      $(this).removeAttr('style');
      var langName = $(this).attr('class').replace('chroma language-', '').toUpperCase();
      $(this).closest('table').attr('data-content', langName);
    });

    $('.lntable').each(function () {
      if (!$(this).attr('data-content')) {
        $(this).attr('data-content', 'Code');
      }
    });

    
    runSearch();

    var navbar = $('.navbar');

    
    
    var enableToc = JSON.parse("true");
    
    if (enableToc) {
      $("#toc").toc({ content: ".single__contents", headings: "h1,h2,h3,h4" });
      $('#toc > li').each(function () {
        $(this).find('ul').css('display', 'none');
      });
      $('#toc a').each(function () {
        $(this).click(function () {
          navbar.removeClass('navbar--show');
          navbar.removeClass('navbar--hide');
          navbar.addClass('navbar--hide');

          $(".single__contents :header").each(function () {
            $('.toc a').removeClass('active');
          });
          $(this).addClass('active');

          $('#toc > li').each(function () {
            $(this).find('ul').css('display', 'none');
          });
          $(this).next().css('display', 'block');
          $(this).parents('ul').css('display', 'block');
        });
      });

      
      $("#toggle-toc").change(function () {
        if (this.checked) {
          $('.toc').fadeIn(200);
        } else {
          $('.toc').fadeOut(200);
        }
      });
    }    

    
    var text, clip = new ClipboardJS('.anchor');
    var headers = $('.single__contents :header').not('h6').not('h5');
    headers.append(function (index, html) {
      var element = $(this);
      var url = encodeURI(document.location.origin + document.location.pathname);
      var link = url + "#" + element[0].id;
      return " <span class='anchor hide' data-clipboard-text='" + link + "' style='position: relative;'>" +
        "<span style='font-size: 1rem; position: absolute; right: -2rem; top: 50%; transform: translateY(-50%)'>ğŸ”—</span>" +
        "</span>"
        ;
    });
    headers.on('mouseenter', function () {
      $(this).find('.anchor').attr('class', 'anchor');
    });
    headers.on('mouseleave', function () {
      $(this).find('.anchor').attr('class', 'anchor hide');
    });

    $(".anchor").on('mouseleave', function (e) {
      $(this).attr('aria-label', null).removeClass('tooltipped tooltipped-s tooltipped-w');
    });

    clip.on('success', function (e) {
      e.clearSelection();
      $(e.trigger).attr('aria-label', 'Link copied to clipboard!').addClass('tooltipped tooltipped-s');
    });

    $('pre.chroma').not(':has(code)').each(function() {
      $(this).not(':has(span)').wrap('<code style="font-size: 1rem;"></code>');
    });

    
    var clipInit = false;
    $('code').each(function () {
      var code = $(this),
        text = code.text();

      if (text.length > 30) {
        if (!clipInit) {
          var text, clip = new ClipboardJS('.copy-to-clipboard', {
            text: function (trigger) {
              text = $(trigger).prev('code').text();
              return text.replace(/^\$\s/gm, '');
            }
          });

          var inPre;
          clip.on('success', function (e) {
            e.clearSelection();
            inPre = $(e.trigger).parent().prop('tagName') == 'PRE';
            $(e.trigger).attr('aria-label', 'Copied to clipboard!').addClass('tooltipped tooltipped-' + (inPre ? 'w' : 's'));
          });

          clip.on('error', function (e) {
            inPre = $(e.trigger).parent().prop('tagName') == 'PRE';
            $(e.trigger).attr('aria-label', fallbackMessage(e.action)).addClass('tooltipped tooltipped-' + (inPre ? 'w' : 's'));
            $(document).one('copy', function () {
              $(e.trigger).attr('aria-label', 'Copied to clipboard!').addClass('tooltipped tooltipped-' + (inPre ? 'w' : 's'));
            });
          });

          clipInit = true;
        }

        code.after('<span class="copy-to-clipboard" title="Copy to clipboard" />');
        code.next('.copy-to-clipboard').on('mouseleave', function () {
          $(this).attr('aria-label', null).removeClass('tooltipped tooltipped-s tooltipped-w');
        });
      }
    });

    
    
    var enablePhotoSwipe = JSON.parse("true");
    
    if (enablePhotoSwipe) {
      var pswpElement = $('.pswp')[0];
      var imgElements = $('.single__contents').find('img');
      var items = [];

      imgElements.each(function (i, v) {
        $(this).click(function (e) {
          initGallery(i);
        });
        $(this).css('cursor', 'pointer');
        items.push({
          src: v['src'],
          w: 0,
          h: 0,
          title: filename(v['src']),
        });
      });

      function filename(str) {
        var s = str.replace(/\\/g, '/');
        s = s.substring(s.lastIndexOf('/') + 1);
        return str ? s.replace(/[?#].+$/, '') : s.split('.')[0];
      }

      function initGallery(index) {
        var options = { index: index };
        var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);
        gallery.listen('imageLoadComplete', function (index, item) {
          if (item.h < 1 || item.w < 1) {
            let img = new Image();
            img.onload = () => {
              item.w = img.width;
              item.h = img.height;
              gallery.invalidateCurrItems();
              gallery.updateSize(true);
            }
            img.src = item.src;
          }
        });
        gallery.init();
      }
    }

    
    
    var lib = JSON.parse("null");

    if (lib && lib.includes('mermaid')) {
      
      var themeVariant = localStorage.getItem('theme') || JSON.parse("\"dark\"");

      if (themeVariant === "dark" || themeVariant === "hacker") {
        mermaid.initialize({ theme: 'dark' });
      } else {
        mermaid.initialize({ theme: 'default' });
      }
      
      
      $('code.language-mermaid:odd').each(function() {
        $(this).unwrap('pre');
        $(this).replaceWith(function () {
          return $("<div />").append($(this).contents()).addClass('mermaid').css('padding', '30px 8px 8px');
        });
      });

      $('code.language-mermaid').each(function (index, node) {
        $(this).css('display', 'none');
      });
    }

    
    if (lib && lib.includes('katex')) {
      var mathElements = document.getElementsByClassName('math');
      var options = [
        { left: "$$", right: "$$", display: true },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true }
      ];

      renderMathInElement(document.getElementsByClassName('single__contents')[0], options);
    }

    
    if (lib && lib.includes('flowchartjs')) {
      
      var options = JSON.parse("{\"arrow-end\":\"block\",\"element-color\":\"black\",\"fill\":\"white\",\"flowstate\":{\"approved\":{\"fill\":\"#58C4A3\",\"font-size\":12,\"no-text\":\"n/a\",\"yes-text\":\"APPROVED\"},\"current\":{\"fill\":\"yellow\",\"font-color\":\"red\",\"font-weight\":\"bold\"},\"future\":{\"fill\":\"#FFFF99\"},\"invalid\":{\"fill\":\"#444444\"},\"past\":{\"fill\":\"#CCCCCC\",\"font-size\":12},\"rejected\":{\"fill\":\"#C45879\",\"font-size\":12,\"no-text\":\"REJECTED\",\"yes-text\":\"n/a\"},\"request\":{\"fill\":\"blue\"}},\"font-color\":\"black\",\"font-size\":14,\"line-color\":\"black\",\"line-length\":50,\"line-width\":3,\"no-text\":\"no\",\"scale\":1,\"symbols\":{\"end\":{\"class\":\"end-element\"},\"start\":{\"element-color\":\"green\",\"fill\":\"yellow\",\"font-color\":\"red\"}},\"text-margin\":10,\"x\":0,\"y\":0,\"yes-text\":\"yes\"}");

      $('code.language-flowchart:odd').each(function (index, node) {
        var diagramContent = $(this).contents();
        $(this).closest('table').attr('data-content', 'FLOWCHART');
        $(this).unwrap('pre');
        $(this).replaceWith(function () {
          return $("<div id='diagram' data-content='flowchart'></div>").append(diagramContent.text()).addClass('diagram').css('padding', '30px 8px 8px').css('margin-top', '40px');
        });      

        var diagram = flowchart.parse(diagramContent.text());      
        $('#diagram').empty();
        diagram.drawSVG('diagram', options);      
      });    

      $('code.language-flowchart').each(function (index, node) {      
        $(this).unwrap('pre');
        $(this).replaceWith(function () {
          return $("<div></div>");
        });      
      });
    }

    
    if (lib && lib.includes('mathjax')) {
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']],
          processEscapes: false,
          packages: { '[+]': ['noerrors'] }
        },
        loader: {
          load: ['[tex]/noerrors']
        },
      };
    }

    
    if (lib && lib.includes('msc')) {
      
      var options = JSON.parse("{\"theme\":\"hand\"}");    

      $('code.language-msc:odd').each(function() {
        $(this).unwrap('pre');
        $(this).replaceWith(function () {
          return $("<div />").append($(this).contents()).addClass('diagram').css('padding', '30px 8px 8px').css('margin-top', '40px');
        });
      });
      $(".diagram").sequenceDiagram(options);

      $('code.language-msc').each(function (index, node) {
        $(this).css('display', 'none');
      });
    }

    
    if (lib && lib.includes('chart')) {
      var borderColor = "#666";
      var bgColor = "#ddd";
      var borderWidth = 2;

      Chart.defaults.global.elements.rectangle.borderWidth = borderWidth;
      Chart.defaults.global.elements.rectangle.borderColor = borderColor;
      Chart.defaults.global.elements.rectangle.backgroundColor = bgColor;

      Chart.defaults.global.elements.line.borderWidth = borderWidth;
      Chart.defaults.global.elements.line.borderColor = borderColor;
      Chart.defaults.global.elements.line.backgroundColor = bgColor;

      Chart.defaults.global.elements.point.borderWidth = borderWidth;
      Chart.defaults.global.elements.point.borderColor = borderColor;
      Chart.defaults.global.elements.point.backgroundColor = bgColor;

      $('code.language-chart:odd').each(function (index, node) {
        $(this).unwrap('pre');

        node0 = document.createElement('canvas');
        node0.height = 200;
        node0.style.height = 200;
        node0.id = 'myChart' + index;
        source = JSON.parse(node.innerText);
        node.parentNode.insertBefore(node0, node);
        var ctx = document.getElementById('myChart' + index).getContext('2d');
        var myChart = new Chart(ctx, source);

        $(this).closest('td').css('padding', '40px 8px 8px');
        $(this).hide();
      });

      $('code.language-chart:even').each(function (index, node) {
        $(this).css('display', 'none');
      });
    }

    
    if (lib && lib.includes('wavedrom')) {
      $('code.language-wave:odd').each(function (index, node) {
        $(this).unwrap('pre');

        node0 = document.createElement('div');
        node0.id = 'WaveDrom_Display_' + index;
        source = JSON.parse(node.innerText);
        node.parentNode.insertBefore(node0, node);

        WaveDrom.RenderWaveForm(index, source, "WaveDrom_Display_");

        $(this).closest('td').css('padding', '40px 12px 12px 0');
        $(this).hide();
      });

      $('code.language-wave').each(function (index, node) {
        $(this).css('display', 'none');
      });
    }

    
    if (lib && lib.includes('viz')) {
      var vizPrefix = "language-viz-";
      $('pre[class*="language-viz-"]:odd').each(function (index, node) {
        $(this).unwrap('pre');

        var engine;
        node.getAttribute("class").split(" ").forEach(function (cls) {
          if (cls.startsWith(vizPrefix)) {
            engine = cls.substr(vizPrefix.length);
          }
        });
        var viz = new Viz();
        viz.renderSVGElement(node.innerText, { engine: engine })
          .then(function (element) {
            element.style.width = "100%";
            node.parentNode.insertBefore(element, node);
          });
        $(this).closest('td').css('padding', '40px 0 16px 0');
        $(this).hide();
      });
      $('code[class*="language-viz-"]:even').each(function (index, node) {
        $(this).hide();
      });
    }
  }
</script>


            <footer class="footer">
    <div class="footer__wrapper">
        
        
<div class="footer__social">
  <div class="social">
    
      
      <a href="mailto:zy0424100096@163.com" title="email" aria-label="email">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path fill="currentColor" d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-.4 4.25l-7.07 4.42c-.32.2-.74.2-1.06 0L4.4 8.25c-.25-.16-.4-.43-.4-.72 0-.67.73-1.07 1.3-.72L12 11l6.7-4.19c.57-.35 1.3.05 1.3.72 0 .29-.15.56-.4.72z"/></svg>
      </a>
            
    
      
      <a href="http://example.org/" title="facebook" aria-label="facebook">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" version="1.1">
<g id="surface2747">
<path fill="currentColor" d="M 11.664062 2.003906 C 6.621094 2.171875 2.375 6.25 2.023438 11.289062 C 1.65625 16.617188 5.46875 21.121094 10.507812 21.878906 L 10.507812 14.648438 L 8.890625 14.648438 C 8.164062 14.648438 7.578125 14.0625 7.578125 13.335938 C 7.578125 12.609375 8.164062 12.023438 8.890625 12.023438 L 10.503906 12.023438 L 10.503906 10.273438 C 10.503906 7.378906 11.914062 6.105469 14.324219 6.105469 C 14.679688 6.105469 14.984375 6.113281 15.242188 6.128906 C 15.878906 6.15625 16.371094 6.6875 16.371094 7.324219 C 16.371094 7.988281 15.835938 8.523438 15.171875 8.523438 L 14.730469 8.523438 C 13.710938 8.523438 13.351562 9.492188 13.351562 10.585938 L 13.351562 12.023438 L 15.222656 12.023438 C 15.8125 12.023438 16.265625 12.550781 16.175781 13.132812 L 16.066406 13.835938 C 15.992188 14.304688 15.589844 14.652344 15.113281 14.652344 L 13.351562 14.652344 L 13.351562 21.898438 C 18.234375 21.234375 22 17.0625 22 12 C 22 6.367188 17.339844 1.820312 11.664062 2.003906 Z M 11.664062 2.003906 "/>
</g>
</svg>

      </a>
            
    
      
      <a href="https://github.com/yu-zhang-1985" title="github" aria-label="github">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 24 24" version="1.1">
<g id="surface3680">
<path fill="currentColor" d="M 10.898438 2.101562 C 6.300781 2.601562 2.601562 6.300781 2.101562 10.800781 C 1.601562 15.5 4.300781 19.699219 8.398438 21.300781 C 8.699219 21.398438 9 21.199219 9 20.800781 L 9 19.199219 C 9 19.199219 8.601562 19.300781 8.101562 19.300781 C 6.699219 19.300781 6.101562 18.101562 6 17.398438 C 5.898438 17 5.699219 16.699219 5.398438 16.398438 C 5.101562 16.300781 5 16.300781 5 16.199219 C 5 16 5.300781 16 5.398438 16 C 6 16 6.5 16.699219 6.699219 17 C 7.199219 17.800781 7.800781 18 8.101562 18 C 8.5 18 8.800781 17.898438 9 17.800781 C 9.101562 17.101562 9.398438 16.398438 10 16 C 7.699219 15.5 6 14.199219 6 12 C 6 10.898438 6.5 9.800781 7.199219 9 C 7.101562 8.800781 7 8.300781 7 7.601562 C 7 7.199219 7 6.601562 7.300781 6 C 7.300781 6 8.699219 6 10.101562 7.300781 C 10.601562 7.101562 11.300781 7 12 7 C 12.699219 7 13.398438 7.101562 14 7.300781 C 15.300781 6 16.800781 6 16.800781 6 C 17 6.601562 17 7.199219 17 7.601562 C 17 8.398438 16.898438 8.800781 16.800781 9 C 17.5 9.800781 18 10.800781 18 12 C 18 14.199219 16.300781 15.5 14 16 C 14.601562 16.5 15 17.398438 15 18.300781 L 15 20.898438 C 15 21.199219 15.300781 21.5 15.699219 21.398438 C 19.398438 19.898438 22 16.300781 22 12.101562 C 22 6.101562 16.898438 1.398438 10.898438 2.101562 Z M 10.898438 2.101562 "/>
</g>
</svg>

      </a>
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
            
    
      
      <a href="http://example.org/" title="twitter" aria-label="twitter">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32" version="1.1">
<g id="surface676">
<path fill="currentColor" d="M 28 8.558594 C 27.117188 8.949219 26.167969 9.214844 25.171875 9.332031 C 26.1875 8.722656 26.96875 7.757812 27.335938 6.609375 C 26.386719 7.171875 25.332031 7.582031 24.210938 7.804688 C 23.3125 6.847656 22.03125 6.246094 20.617188 6.246094 C 17.898438 6.246094 15.691406 8.453125 15.691406 11.171875 C 15.691406 11.558594 15.734375 11.933594 15.820312 12.292969 C 11.726562 12.089844 8.097656 10.128906 5.671875 7.148438 C 5.246094 7.875 5.003906 8.722656 5.003906 9.625 C 5.003906 11.332031 5.871094 12.839844 7.195312 13.722656 C 6.386719 13.695312 5.628906 13.476562 4.964844 13.105469 C 4.964844 13.128906 4.964844 13.148438 4.964844 13.167969 C 4.964844 15.554688 6.660156 17.546875 8.914062 17.996094 C 8.5 18.109375 8.066406 18.171875 7.617188 18.171875 C 7.300781 18.171875 6.988281 18.140625 6.691406 18.082031 C 7.316406 20.039062 9.136719 21.460938 11.289062 21.503906 C 9.605469 22.824219 7.480469 23.609375 5.175781 23.609375 C 4.777344 23.609375 4.386719 23.585938 4 23.539062 C 6.179688 24.9375 8.765625 25.753906 11.546875 25.753906 C 20.605469 25.753906 25.558594 18.25 25.558594 11.742188 C 25.558594 11.53125 25.550781 11.316406 25.542969 11.105469 C 26.503906 10.410156 27.339844 9.542969 28 8.558594 Z M 28 8.558594 "/>
</g>
</svg>

      </a>
            
    
            
    
    
  <a href="/en//index.xml" type="application/rss+xml" title="rss" aria-label="RSS Feed Link">
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><circle fill="currentColor" cx="6.18" cy="17.82" r="2.18"/><path fill="currentColor" d="M5.59 10.23c-.84-.14-1.59.55-1.59 1.4 0 .71.53 1.28 1.23 1.4 2.92.51 5.22 2.82 5.74 5.74.12.7.69 1.23 1.4 1.23.85 0 1.54-.75 1.41-1.59-.68-4.2-3.99-7.51-8.19-8.18zm-.03-5.71C4.73 4.43 4 5.1 4 5.93c0 .73.55 1.33 1.27 1.4 6.01.6 10.79 5.38 11.39 11.39.07.73.67 1.28 1.4 1.28.84 0 1.5-.73 1.42-1.56-.73-7.34-6.57-13.19-13.92-13.92z"/></svg>
  </a>

  </div>
</div>
        
        
<div id="gtt">
  <div class="gtt">
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24"><path fill="currentColor" d="M8.12 14.71L12 10.83l3.88 3.88c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L12.7 8.71c-.39-.39-1.02-.39-1.41 0L6.7 13.3c-.39.39-.39 1.02 0 1.41.39.38 1.03.39 1.42 0z"/></svg>
  </div>
</div>

    </div>
    <hr />

    
    <div class="footer__poweredby">
        
            <p class="caption">
                &copy;2019, All Rights Reserved
            </p>
        
        <p class="caption">Powered by <a href="https://gohugo.io/" rel="noreferrer">Hugo</a> and the <a href="https://github.com/zzossig/hugo-theme-zzo" rel="noreferrer">Zzo theme</a></p>
    </div>
        
</footer>
        </div>    
    </div>    
</body>

</html>
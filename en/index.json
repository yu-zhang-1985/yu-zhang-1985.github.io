[
{
	"uri": "http://yu-zhang-1985.github.io/en/",
	"title": "",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/posts/",
	"title": "Posts",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/tags/python/",
	"title": "Python",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/tags/",
	"title": "Tags",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/tags/tensorflow2.0/",
	"title": "Tensorflow2.0",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/posts/tensorflow2%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A01/",
	"title": "Tensorflow2æ·±åº¦å­¦ä¹ 1",
	"tags": ["Python", "Tensorflow2.0"],
	"categories": [],
	"series": [],
	"description": "",
	"content": " Tensorflow2æ·±åº¦å­¦ä¹ 1 åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡ é€šè¿‡tf.random.normal(shape, mean=0.0, stddev=1.0)å¯ä»¥åˆ›å»ºå½¢çŠ¶ä¸º shapeï¼Œå‡å€¼ä¸º meanï¼Œæ ‡å‡†å·®ä¸º stddev çš„æ­£æ€åˆ†å¸ƒğ’©(ğ‘šğ‘’ğ‘ğ‘›, ğ‘ ğ‘¡ğ‘‘ğ‘‘ğ‘’ğ‘£2)ã€‚\nä¾‹å¦‚ï¼Œåˆ›å»ºå‡å€¼ä¸º 0ï¼Œ æ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒï¼š\n1  tf.random.normal([2, 2])   åˆ›å»ºå‡å€¼ä¸º 1ï¼Œæ ‡å‡†å·®ä¸º 2 çš„æ­£å¤ªåˆ†å¸ƒï¼š\n1  tf.random.normal([2,2], mean=1,stddev=2)    é€šè¿‡tf.random.uniform(shape, minval=0, maxval=None, dtype=tf.float32)å¯ä»¥åˆ›å»ºé‡‡æ ·è‡ª [ğ‘šğ‘–ğ‘›ğ‘£ğ‘ğ‘™, ğ‘šğ‘ğ‘¥ğ‘£ğ‘ğ‘™]åŒºé—´çš„å‡åŒ€åˆ†å¸ƒçš„å¼ é‡ã€‚\nä¾‹å¦‚åˆ›å»ºé‡‡æ ·è‡ªåŒºé—´[0,1]ï¼Œ shape ä¸º[2,2]çš„çŸ©é˜µ:\n1  tf.random.uniform([2,2])    åˆ›å»ºåºåˆ— åœ¨å¾ªç¯è®¡ç®—æˆ–è€…å¯¹å¼ é‡è¿›è¡Œç´¢å¼•æ—¶ï¼Œç»å¸¸éœ€è¦åˆ›å»ºä¸€æ®µè¿ç»­çš„æ•´å½¢åºåˆ—ï¼Œå¯ä»¥é€šè¿‡tf.range()å‡½æ•°å®ç°ã€‚ tf.range(limit, delta=1)å¯ä»¥åˆ›å»º[0, ğ‘™ğ‘–ğ‘šğ‘–ğ‘¡)ä¹‹é—´ï¼Œæ­¥é•¿ä¸º delta çš„æ•´å½¢åºåˆ—ï¼Œä¸åŒ…å« limit æœ¬èº«ã€‚\nä¾‹å¦‚ï¼Œåˆ›å»º 0~9ï¼Œæ­¥é•¿ä¸º 1 çš„æ•´å½¢åºåˆ—\n1  tf.range(10)   Tensorflow è¿›é˜¶ åˆå¹¶ä¸åˆ†å‰² åˆå¹¶ åˆå¹¶æ˜¯æŒ‡å°†å¤šä¸ªå¼ é‡åœ¨æŸä¸ªç»´åº¦ä¸Šåˆå¹¶ä¸ºä¸€ä¸ªå¼ é‡ã€‚ ä»¥æŸå­¦æ ¡ç­çº§æˆç»©å†Œæ•°æ®ä¸ºä¾‹ï¼Œ è®¾å¼ é‡ A ä¿å­˜äº†æŸå­¦æ ¡ 1-4 å·ç­çº§çš„æˆç»©å†Œï¼Œæ¯ä¸ªç­çº§ 35 ä¸ªå­¦ç”Ÿï¼Œå…± 8 é—¨ç§‘ç›®ï¼Œåˆ™å¼ é‡ A çš„ shape ä¸ºï¼š [4,35,8]ï¼› åŒæ ·çš„æ–¹å¼ï¼Œå¼ é‡ B ä¿å­˜äº†å‰©ä¸‹çš„ 6 ä¸ªç­çº§çš„æˆç»©å†Œï¼Œ shape ä¸º [6,35,8]ã€‚é€šè¿‡åˆå¹¶ 2 ä¸ªæˆç»©å†Œï¼Œ ä¾¿å¯å¾—åˆ°å­¦æ ¡æ‰€æœ‰ç­çº§çš„æˆç»©å†Œå¼ é‡ Cï¼Œ shape åº”ä¸º [10,35,8]ã€‚ è¿™å°±æ˜¯å¼ é‡åˆå¹¶çš„æ„ä¹‰æ‰€åœ¨ã€‚ å¼ é‡çš„åˆå¹¶å¯ä»¥ä½¿ç”¨æ‹¼æ¥(Concatenate)å’Œå †å  (Stack)æ“ä½œå®ç°ï¼Œæ‹¼æ¥å¹¶ä¸ä¼šäº§ç”Ÿæ–°çš„ç»´åº¦ï¼Œè€Œå †å ä¼šåˆ›å»ºæ–°ç»´åº¦ã€‚é€‰æ‹©ä½¿ç”¨æ‹¼æ¥è¿˜æ˜¯å † å æ“ä½œæ¥åˆå¹¶å¼ é‡ï¼Œå–å†³äºå…·ä½“çš„åœºæ™¯æ˜¯å¦éœ€è¦åˆ›å»ºæ–°ç»´åº¦ã€‚\næ‹¼æ¥åœ¨TensorFlow ä¸­ï¼Œå¯ä»¥é€šè¿‡ tf.concat(tensors, axis)ï¼Œå…¶ä¸­ tensors ä¿å­˜äº†æ‰€æœ‰éœ€è¦ åˆå¹¶çš„å¼ é‡ Listï¼Œ axis æŒ‡å®šéœ€è¦åˆå¹¶çš„ç»´åº¦ã€‚å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œ è¿™é‡Œç­çº§ç»´åº¦ç´¢å¼•å·ä¸º 0ï¼Œ å³ axis=0ï¼Œ åˆå¹¶å¼ é‡ A,B å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12  a = tf.random.normal([4, 35, 8]) b = tf.random.normal([6, 35, 8]) tf.concat([a,b],axis=0) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=13, shape=(10, 35, 8), dtype=float32, numpy= array([[[ 8.8570964e-01, 5.4271686e-01, 6.7099530e-01, ..., 1.2183920e+00, 1.6942458e+00, 5.6671137e-01], [ 1.7924213e+00, -2.1710000e-03, -4.6756008e-01, ..., -3.2004917e-01, 8.6718071e-01, 4.4047076e-01], [-5.8158237e-01, 9.7340065e-01, 6.4484423e-01, ..., 2.2783038e-01, -7.4327374e-01, -1.6929630e+00], ...,   åˆå¹¶æ“ä½œå¯ä»¥åœ¨ä»»æ„çš„ç»´åº¦ä¸Šè¿›è¡Œï¼Œå”¯ä¸€çš„çº¦æŸæ˜¯éåˆå¹¶ç»´åº¦çš„é•¿åº¦å¿…é¡»ä¸€è‡´ã€‚ æ¯”å¦‚ shape ä¸º[4,32,8]å’Œ shape ä¸º[6,35,8]çš„å¼ é‡åˆ™ä¸èƒ½ç›´æ¥åœ¨ç­çº§ç»´åº¦ä¸Šè¿›è¡Œåˆå¹¶ï¼Œå› ä¸ºå­¦ç”Ÿæ•°ç»´åº¦çš„ é•¿åº¦å¹¶ä¸ä¸€è‡´ï¼Œä¸€ä¸ªä¸º 32ï¼Œå¦ä¸€ä¸ªä¸º 35ã€‚\nå †å  tf.concat ç›´æ¥åœ¨ç°æœ‰ç»´åº¦ä¸Šé¢åˆå¹¶æ•°æ®ï¼Œ å¹¶ä¸ä¼šåˆ›å»ºæ–°çš„ç»´åº¦ã€‚ å¦‚æœåœ¨åˆå¹¶æ•°æ® æ—¶ï¼Œå¸Œæœ›åˆ›å»ºä¸€ä¸ªæ–°çš„ç»´åº¦ï¼Œåˆ™éœ€è¦ä½¿ç”¨ tf.stack æ“ä½œã€‚è€ƒè™‘å¼ é‡ A ä¿å­˜äº†æŸä¸ªç­çº§çš„æˆ ç»©å†Œï¼Œ shape ä¸º[35,8]ï¼Œ å¼ é‡ B ä¿å­˜äº†å¦ä¸€ä¸ªç­çº§çš„æˆç»©å†Œï¼Œ shape ä¸º[35,8]ã€‚åˆå¹¶è¿™ 2 ä¸ªç­ çº§çš„æ•°æ®æ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç»´åº¦ï¼Œå®šä¹‰ä¸ºç­çº§ç»´åº¦ï¼Œ æ–°ç»´åº¦å¯ä»¥é€‰æ‹©æ”¾ç½®åœ¨ä»»æ„ä½ç½®ï¼Œ ä¸€èˆ¬æ ¹æ®å¤§å°ç»´åº¦çš„ç»éªŒæ³•åˆ™ï¼Œå°†è¾ƒå¤§æ¦‚å¿µçš„ç­çº§ç»´åº¦æ”¾ç½®åœ¨å­¦ç”Ÿç»´åº¦ä¹‹å‰ï¼Œ åˆ™åˆå¹¶åçš„ å¼ é‡çš„æ–° shape åº”ä¸º[2,35,8]\nä½¿ç”¨ tf.stack(tensors, axis)å¯ä»¥åˆå¹¶å¤šä¸ªå¼ é‡ tensorsï¼Œå…¶ä¸­ axis æŒ‡å®šæ’å…¥æ–°ç»´åº¦çš„ä½ ç½®ï¼Œ axis çš„ç”¨æ³•ä¸ tf.expand_dims çš„ä¸€è‡´ï¼Œå½“axis â‰¥ 0æ—¶ï¼Œåœ¨ axis ä¹‹å‰æ’å…¥;å½“axis \u0026lt; 0æ—¶ï¼Œ åœ¨ axis ä¹‹åæ’å…¥æ–°ç»´åº¦ã€‚ ä¾‹å¦‚ shape ä¸º[ğ‘, ğ‘, â„, ğ‘¤]çš„å¼ é‡ï¼Œåœ¨ä¸åŒä½ç½®é€šè¿‡ stack æ“ä½œæ’å…¥ æ–°ç»´åº¦ï¼Œ axis å‚æ•°å¯¹åº”çš„æ’å…¥ä½ç½®è®¾ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå †å æ–¹å¼åˆå¹¶è¿™ 2 ä¸ªç­çº§æˆç»©å†Œå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  a = tf.random.normal([35, 8]) b = tf.random.normal([35, 8]) tf.stack([a,b],axis=0) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=12, shape=(2, 35, 8), dtype=float32, numpy= array([[[-2.07745954e-01, -2.20502543e+00, -8.23655784e-01, 5.48114002e-01, -1.88472852e-01, 1.11393249e+00, 5.76643407e-01, 2.46200943e+00], [-1.34531006e-01, -6.47483051e-01, 2.26597333e+00, -1.91579258e+00, -9.96486470e-02, 1.14866197e+00, 6.14816546e-01, 3.88844609e-01], [ 2.80898750e-01, -8.78563046e-01, 3.02676171e-01, -8.55822623e-01, -1.33168280e+00, 4.88721691e-02, -2.57279962e-01, -8.46524596e-01], [-3.17433141e-02, 7.61308789e-01, -6.20268703e-01, -1.77424073e+00, -1.46247709e+00, 1.39056846e-01, -4.85520959e-01, -3.28335166e-01], [ 3.54683638e-01, -9.66821671e-01, 7.51357496e-01, -1.14020419e+00, 1.50615618e-01, -5.70143521e-01, 3.97633016e-01, -4.33588564e-01],...   tf.stack ä¹Ÿéœ€è¦æ»¡è¶³å¼ é‡å †å åˆå¹¶æ¡ä»¶ï¼Œå®ƒéœ€è¦æ‰€æœ‰åˆå¹¶çš„å¼ é‡ shape å®Œå…¨ä¸€è‡´æ‰å¯åˆå¹¶ã€‚\nåˆ†å‰² åˆå¹¶æ“ä½œçš„é€†è¿‡ç¨‹å°±æ˜¯åˆ†å‰²ï¼Œå°†ä¸€ä¸ªå¼ é‡åˆ†æ‹†ä¸ºå¤šä¸ªå¼ é‡ã€‚ç»§ç»­è€ƒè™‘æˆç»©å†Œçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¾—åˆ°æ•´ä¸ªå­¦æ ¡çš„æˆç»©å†Œå¼ é‡ï¼Œ shape ä¸º[10,35,8]ï¼Œç°åœ¨éœ€è¦å°†æ•°æ®åœ¨ç­çº§ç»´åº¦åˆ‡å‰²ä¸º10 ä¸ªå¼ é‡ï¼Œæ¯ä¸ªå¼ é‡ä¿å­˜äº†å¯¹åº”ç­çº§çš„æˆç»©å†Œã€‚ é€šè¿‡ tf.split(x, axis, num_or_size_splits)å¯ä»¥å®Œæˆå¼ é‡çš„åˆ†å‰²æ“ä½œï¼Œå…¶ä¸­ â‘ xï¼šå¾…åˆ†å‰²å¼ é‡ â‘ axisï¼šåˆ†å‰²çš„ç»´åº¦ç´¢å¼•å· â‘ num_or_size_splitsï¼šåˆ‡å‰²æ–¹æ¡ˆã€‚å½“ num_or_size_splits ä¸ºå•ä¸ªæ•°å€¼æ—¶ï¼Œå¦‚ 10ï¼Œè¡¨ç¤ºåˆ‡å‰² ä¸º 10 ä»½ï¼›å½“ num_or_size_splits ä¸º List æ—¶ï¼Œæ¯ä¸ªå…ƒç´ è¡¨ç¤ºæ¯ä»½çš„é•¿åº¦ï¼Œå¦‚[2,4,2,2]è¡¨ç¤ºåˆ‡å‰²ä¸º 4 ä»½ï¼Œæ¯ä»½çš„é•¿åº¦åˆ†åˆ«ä¸º 2,4,2,2\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20  x = tf.random.normal([10,35,8]) result = tf.split(x,axis=0,num_or_size_splits=10) len(result) \u0026gt;\u0026gt;\u0026gt; 10 result[0] \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=8, shape=(1, 35, 8), dtype=float32, numpy= array([[[-0.85184807, 1.3023669 , -0.6299309 , -1.0691075 , 0.89515835, 1.5502766 , 0.73648924, -0.28014854], [-1.1703638 , -1.0702999 , 0.14448726, 0.21638253, -1.0922323 , -0.70183253, 0.7688517 , 0.254894 ], [-0.19054046, -0.94894826, 0.509884 , -0.10021583, -1.8817822 , -0.6811145 , -0.8317199 , -2.0539005 ], [ 0.35156137, -0.1522366 , 0.881225 , 0.41727147, -0.3673428 , 0.28644273, -0.7694335 , 1.9294138 ], [ 0.2886285 , -0.28281617, 2.085483 , 0.6884915 , -0.74251384, -0.04762862, -1.6109419 , 0.3967676 ], [-0.16406545, 1.6274209 , -1.7666724 , -0.13634756, 1.1297457 , -0.51879525, 0.07458926, -0.86752087],...   ç‰¹åˆ«åœ°ï¼Œå¦‚æœå¸Œæœ›åœ¨æŸä¸ªç»´åº¦ä¸Šå…¨éƒ¨æŒ‰é•¿åº¦ä¸º 1 çš„æ–¹å¼åˆ†å‰²ï¼Œè¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨ tf.unstack(x, axis)ã€‚è¿™ç§æ–¹å¼æ˜¯ tf.split çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œåˆ‡å‰²é•¿åº¦å›ºå®šä¸º 1ï¼Œåªéœ€è¦æŒ‡å®šåˆ‡å‰²ç»´åº¦å³ å¯ã€‚ä¾‹å¦‚ï¼Œå°†æ€»æˆç»©å†Œå¼ é‡åœ¨ç­çº§ç»´åº¦è¿›è¡Œ unstackï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26  x = tf.random.normal([10,35,8]) result = tf.unstack(x,axis=0) len(result) \u0026gt;\u0026gt;\u0026gt; 10 result[0] \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=24, shape=(35, 8), dtype=float32, numpy= array([[ 2.3499814e-01, -1.1842293e+00, 1.3272552e+00, 6.4903384e-01, -1.9246280e-01, 1.3754971e+00, 3.4612319e-01, 1.6372271e+00], [ 8.3820176e-01, -1.2983169e-03, 1.5911472e-01, -1.5614045e+00, 1.0038549e+00, 1.5761454e+00, -1.1039929e+00, -9.8006409e-01], [ 1.2048551e-01, -1.2589523e+00, -1.2453424e-02, -1.5870620e+00, 5.9980989e-01, 3.7658808e-01, 1.5330039e+00, -9.3075413e-01], [ 1.2049198e+00, 1.5333800e+00, 2.1740818e-01, 5.0086784e-01, -7.3233676e-01, -1.2100717e+00, 9.9705887e-01, -2.0708323e-01], [ 9.0880913e-01, 3.3859581e-01, -7.3015666e-01, 2.2648830e+00, -2.0122778e+00, 1.6395996e+00, 2.4187420e-01, -1.3059950e-01], [ 2.1328552e+00, -7.8336847e-01, 8.2249206e-01, -1.4364395e+00, 2.9055530e-01, -9.8072761e-01, 9.2565483e-01, -6.2752402e-01], [ 8.4056842e-01, -7.3818415e-02, 4.6472155e-02, 1.5118374e-01, -2.2872338e+00, -1.4693606e-01, -1.3184593e+00, 1.5431756e-01], [-6.4098752e-01, 7.9867637e-01, -1.4770398e-01, 1.2196998e-01, -2.0005221e+00, 8.0921733e-01, 9.0594894e-01, 1.0971487e+00], [-4.4344936e-02, -7.4685121e-01, -1.5849980e+00, 4.7536910e-01, 1.1413414e+00, -1.2368580e+00, 1.6116165e+00, -3.3580515e-01],...   å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ tf.unstack åˆ‡å‰²åï¼Œ shape å˜ä¸º[35,8]ï¼Œå³ç­çº§ç»´åº¦æ¶ˆå¤±äº†ï¼Œè¿™ä¹Ÿæ˜¯ä¸ tf.split åŒºåˆ«ä¹‹å¤„ã€‚\næ•°æ®ç»Ÿè®¡ å‘é‡èŒƒæ•° å‘é‡èŒƒæ•°(Vector norm)æ˜¯è¡¨å¾å‘é‡â€œé•¿åº¦â€çš„ä¸€ç§åº¦é‡æ–¹æ³•ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œå¸¸ç”¨æ¥ è¡¨ç¤ºå¼ é‡çš„æƒå€¼å¤§å°ï¼Œæ¢¯åº¦å¤§å°ç­‰ã€‚å¸¸ç”¨çš„å‘é‡èŒƒæ•°æœ‰ï¼š\nâ‘ L1 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œ\n$$||x||1=\\sum{i}|x_i|$$\nâ‘ L2 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹å’Œï¼Œå†å¼€æ ¹å·\n$$||x||2=\\sqrt{\\sum{i}|x|^2}$$\nâ‘ âˆ -èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼çš„æœ€å¤§å€¼\n$$||x||_\\infty=\\max_i(|x_i|ï¼‰$$\nå¯¹äºçŸ©é˜µã€å¼ é‡ï¼ŒåŒæ ·å¯ä»¥åˆ©ç”¨å‘é‡èŒƒæ•°çš„è®¡ç®—å…¬å¼ï¼Œç­‰ä»·äºå°†çŸ©é˜µã€å¼ é‡æ‰“å¹³æˆå‘é‡å è®¡ç®—ã€‚\nåœ¨ TensorFlow ä¸­ï¼Œå¯ä»¥é€šè¿‡ tf.norm(x, ord)æ±‚è§£å¼ é‡çš„ L1, L2, âˆç­‰èŒƒæ•°ï¼Œå…¶ä¸­å‚æ•° ord æŒ‡å®šä¸º 1,2 æ—¶è®¡ç®— L1, L2 èŒƒæ•°ï¼ŒæŒ‡å®šä¸º np.inf æ—¶è®¡ç®—âˆ -èŒƒæ•°ï¼š\n1 2 3 4 5 6 7 8 9 10  x = tf.ones([2,2]) tf.norm(x,ord=1) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=6, shape=(), dtype=float32, numpy=4.0\u0026gt; tf.norm(x,ord=2) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=11, shape=(), dtype=float32, numpy=2.0\u0026gt; tf.norm(x,ord=np.inf) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=15, shape=(), dtype=float32, numpy=1.0\u0026gt;   æœ€å¤§æœ€å°å€¼ï¼Œå‡å€¼ï¼Œå’Œ é€šè¿‡ tf.reduce_max, tf.reduce_min, tf.reduce_mean, tf.reduce_sum å¯ä»¥æ±‚è§£å¼ é‡åœ¨æŸä¸ªç»´åº¦ä¸Šçš„æœ€å¤§ã€æœ€å°ã€ å‡å€¼ã€å’Œï¼Œä¹Ÿå¯ä»¥æ±‚å…¨å±€æœ€å¤§ã€æœ€å°ã€å‡å€¼ã€å’Œä¿¡æ¯ã€‚ è€ƒè™‘ shape ä¸º[4,10]çš„å¼ é‡ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªç»´åº¦ä»£è¡¨æ ·æœ¬æ•°é‡ï¼Œç¬¬äºŒä¸ªç»´åº¦ä»£è¡¨äº†å½“å‰æ ·æœ¬åˆ†åˆ«å±äº 10 ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œ éœ€è¦æ±‚å‡ºæ¯ä¸ªæ ·æœ¬çš„æ¦‚ç‡æœ€å¤§å€¼ä¸ºï¼š\n1 2 3 4 5 6 7 8 9 10  x = tf.random.normal([4,10]) tf.reduce_max(x,axis=1) # ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„æœ€å¤§å€¼ \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=7, shape=(4,), dtype=float32, numpy=array([1.0590736, 1.9143077, 1.4106003, 1.1981078], dtype=float32)\u0026gt; tf.reduce_min(x,axis=1) # ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„æœ€å°å€¼ \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=9, shape=(4,), dtype=float32, numpy=array([-1.4143783 , -1.6075196 , -1.0238858 , -0.79297394], dtype=float32)\u0026gt; tf.reduce_mean(x,axis=1) # ç»Ÿè®¡æ¦‚ç‡ç»´åº¦ä¸Šçš„å‡å€¼ \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=11, shape=(4,), dtype=float32, numpy=array([0.14184079, 0.0247014 , 0.11403179, 0.07959435], dtype=float32)\u0026gt;   å½“ä¸æŒ‡å®š axis å‚æ•°æ—¶ï¼Œ tf.reduce_*å‡½æ•°ä¼šæ±‚è§£å‡ºå…¨å±€å…ƒç´ çš„æœ€å¤§ã€æœ€å°ã€ å‡å€¼ã€å’Œï¼š\n1 2 3 4 5 6  x = tf.random.normal([4,10]) tf.reduce_max(x),tf.reduce_min(x),tf.reduce_mean(x) \u0026gt;\u0026gt;\u0026gt; (\u0026lt;tf.Tensor: id=19, shape=(), dtype=float32, numpy=2.8448734\u0026gt;, \u0026lt;tf.Tensor: id=21, shape=(), dtype=float32, numpy=-2.3243723\u0026gt;, \u0026lt;tf.Tensor: id=23, shape=(), dtype=float32, numpy=-0.03267593\u0026gt;)   åœ¨æ±‚è§£è¯¯å·®å‡½æ•°æ—¶ï¼Œé€šè¿‡ TensorFlow çš„ MSE è¯¯å·®å‡½æ•°å¯ä»¥æ±‚å¾—æ¯ä¸ªæ ·æœ¬çš„è¯¯å·®ï¼Œéœ€è¦è®¡ç®—æ ·æœ¬çš„å¹³å‡è¯¯å·®ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ tf.reduce_mean åœ¨æ ·æœ¬æ•°ç»´åº¦ä¸Šè®¡ç®—å‡å€¼ï¼š\n1 2 3 4 5 6 7 8  out = tf.random.normal([4,10]) y = tf.constant([1,2,2,0]) y = tf.one_hot(y,depth=10) loss = keras.losses.mse(y,out) loss = tf.reduce_mean(loss) loss \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=39, shape=(), dtype=float32, numpy=0.8586455\u0026gt;   ä¸å‡å€¼å‡½æ•°ç›¸ä¼¼çš„æ˜¯æ±‚å’Œå‡½æ•° tf.reduce_sum(x,axis)ï¼Œ å®ƒå¯ä»¥æ±‚è§£å¼ é‡åœ¨ axis è½´ä¸Šæ‰€æœ‰ ç‰¹å¾çš„å’Œï¼š\n1 2 3 4  out = tf.random.normal([4,10]) tf.reduce_sum(out,axis=-1) \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=47, shape=(4,), dtype=float32, numpy=array([-2.6859164, -2.5817413, 4.8744864, 3.4555972], dtype=float32)\u0026gt;   é™¤äº†å¸Œæœ›è·å–å¼ é‡çš„æœ€å€¼ä¿¡æ¯ï¼Œè¿˜å¸Œæœ›è·å¾—æœ€å€¼æ‰€åœ¨çš„ç´¢å¼•å·ï¼Œä¾‹å¦‚åˆ†ç±»ä»»åŠ¡çš„æ ‡ç­¾ é¢„æµ‹ã€‚è€ƒè™‘ 10 åˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬å¾—åˆ°ç¥ç»ç½‘ç»œçš„è¾“å‡ºå¼ é‡ outï¼Œ shape ä¸º[2,10]ï¼Œ ä»£è¡¨äº† 2 ä¸ª æ ·æœ¬å±äº 10 ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œ ç”±äºå…ƒç´ çš„ä½ç½®ç´¢å¼•ä»£è¡¨äº†å½“å‰æ ·æœ¬å±äºæ­¤ç±»åˆ«çš„æ¦‚ç‡ï¼Œé¢„æµ‹ æ—¶å¾€å¾€ä¼šé€‰æ‹©æ¦‚ç‡å€¼æœ€å¤§çš„å…ƒç´ æ‰€åœ¨çš„ç´¢å¼•å·ä½œä¸ºæ ·æœ¬ç±»åˆ«çš„é¢„æµ‹å€¼ï¼š\n1 2 3 4 5 6 7 8 9 10  out = tf.random.normal([2,10]) out = tf.nn.softmax(out, axis=1) out \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=54, shape=(2, 10), dtype=float32, numpy= array([[0.00528748, 0.02471813, 0.06049791, 0.00718075, 0.00608205, 0.52075624, 0.00456582, 0.00536407, 0.04504047, 0.32050705], [0.0529757 , 0.01163471, 0.06103916, 0.06392826, 0.3175848 , 0.1027843 , 0.14814284, 0.20859584, 0.0232464 , 0.01006791]], dtype=float32)\u0026gt;   ä»¥ç¬¬ä¸€ä¸ªæ ·æœ¬ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ¦‚ç‡æœ€å¤§çš„ç´¢å¼•ä¸ºğ‘– = 5ï¼Œæœ€å¤§æ¦‚ç‡å€¼ä¸º 0.20859584ã€‚ç”±äºæ¯ä¸ªç´¢å¼•å·ä¸Šçš„æ¦‚ç‡å€¼ä»£è¡¨äº†æ ·æœ¬å±äºæ­¤ç´¢å¼•å·çš„ç±»åˆ«çš„æ¦‚ç‡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªæ ·æœ¬å±äº 5 ç±»çš„æ¦‚ç‡æœ€å¤§ï¼Œåœ¨é¢„æµ‹æ—¶è€ƒè™‘ç¬¬ä¸€ä¸ªæ ·æœ¬åº”è¯¥æœ€æœ‰å¯èƒ½å±äºç±»åˆ« 5ã€‚ è¿™å°±æ˜¯éœ€è¦æ±‚è§£æœ€å¤§å€¼çš„ç´¢å¼•å·çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ã€‚ é€šè¿‡ tf.argmax(x, axis)ï¼Œ tf.argmin(x, axis)å¯ä»¥æ±‚è§£åœ¨ axis è½´ä¸Šï¼Œ x çš„æœ€å¤§å€¼ã€ æœ€å°å€¼æ‰€åœ¨çš„ç´¢å¼•å·:\n1 2 3 4  pred = tf.argmax(out, axis=1) pred \u0026gt;\u0026gt;\u0026gt; \u0026lt;tf.Tensor: id=56, shape=(2,), dtype=int64, numpy=array([5, 4], dtype=int64)\u0026gt;   å¯ä»¥çœ‹åˆ°ï¼Œè¿™ 2 ä¸ªæ ·æœ¬æ¦‚ç‡æœ€å¤§å€¼åˆ†åˆ«å‡ºç°åœ¨ç´¢å¼• 5å’Œ4 ä¸Šï¼Œå› æ­¤æœ€æœ‰å¯èƒ½åˆ†åˆ«æ˜¯ç±»åˆ« 5å’Œ4ï¼Œæˆ‘ä»¬å°†ç±»åˆ« 5å’Œ4ä½œä¸ºè¿™ 2 ä¸ªæ ·æœ¬çš„é¢„æµ‹ç±»åˆ«ã€‚\n"
},
{
	"uri": "http://yu-zhang-1985.github.io/en/posts/python%E5%9F%BA%E7%A1%803/",
	"title": "PythonåŸºç¡€3",
	"tags": ["Python"],
	"categories": [],
	"series": [],
	"description": "",
	"content": " å‡½æ•°å¼ç¼–ç¨‹ å‡½æ•°æ˜¯Pythonå†…å»ºæ”¯æŒçš„ä¸€ç§å°è£…ï¼Œæˆ‘ä»¬é€šè¿‡æŠŠå¤§æ®µä»£ç æ‹†æˆå‡½æ•°ï¼Œé€šè¿‡ä¸€å±‚ä¸€å±‚çš„å‡½æ•°è°ƒç”¨ï¼Œå°±å¯ä»¥æŠŠå¤æ‚ä»»åŠ¡åˆ†è§£æˆç®€å•çš„ä»»åŠ¡ï¼Œè¿™ç§åˆ†è§£å¯ä»¥ç§°ä¹‹ä¸ºé¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ã€‚å‡½æ•°å°±æ˜¯é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡çš„åŸºæœ¬å•å…ƒã€‚\nè€Œå‡½æ•°å¼ç¼–ç¨‹ï¼ˆè¯·æ³¨æ„å¤šäº†ä¸€ä¸ªâ€œå¼â€å­—ï¼‰â€”â€”Functional Programmingï¼Œè™½ç„¶ä¹Ÿå¯ä»¥å½’ç»“åˆ°é¢å‘è¿‡ç¨‹çš„ç¨‹åºè®¾è®¡ï¼Œä½†å…¶æ€æƒ³æ›´æ¥è¿‘æ•°å­¦è®¡ç®—ã€‚\nå¯¹åº”åˆ°ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯è¶Šä½çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—æœºï¼ŒæŠ½è±¡ç¨‹åº¦ä½ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ï¼Œæ¯”å¦‚Cè¯­è¨€ï¼›è¶Šé«˜çº§çš„è¯­è¨€ï¼Œè¶Šè´´è¿‘è®¡ç®—ï¼ŒæŠ½è±¡ç¨‹åº¦é«˜ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼Œæ¯”å¦‚Lispè¯­è¨€ã€‚\nå‡½æ•°å¼ç¼–ç¨‹å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¼–ç¨‹èŒƒå¼ï¼Œçº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡ï¼Œå› æ­¤ï¼Œä»»æ„ä¸€ä¸ªå‡½æ•°ï¼Œåªè¦è¾“å…¥æ˜¯ç¡®å®šçš„ï¼Œè¾“å‡ºå°±æ˜¯ç¡®å®šçš„ï¼Œè¿™ç§çº¯å‡½æ•°æˆ‘ä»¬ç§°ä¹‹ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚è€Œå…è®¸ä½¿ç”¨å˜é‡çš„ç¨‹åºè®¾è®¡è¯­è¨€ï¼Œç”±äºå‡½æ•°å†…éƒ¨çš„å˜é‡çŠ¶æ€ä¸ç¡®å®šï¼ŒåŒæ ·çš„è¾“å…¥ï¼Œå¯èƒ½å¾—åˆ°ä¸åŒçš„è¾“å‡ºï¼Œå› æ­¤ï¼Œè¿™ç§å‡½æ•°æ˜¯æœ‰å‰¯ä½œç”¨çš„ã€‚\nå‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œå…è®¸æŠŠå‡½æ•°æœ¬èº«ä½œä¸ºå‚æ•°ä¼ å…¥å¦ä¸€ä¸ªå‡½æ•°ï¼Œè¿˜å…è®¸è¿”å›ä¸€ä¸ªå‡½æ•°ï¼\nPythonå¯¹å‡½æ•°å¼ç¼–ç¨‹æä¾›éƒ¨åˆ†æ”¯æŒã€‚ç”±äºPythonå…è®¸ä½¿ç”¨å˜é‡ï¼Œå› æ­¤ï¼ŒPythonä¸æ˜¯çº¯å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ã€‚\né«˜é˜¶å‡½æ•° å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•° ä»¥Pythonå†…ç½®çš„æ±‚ç»å¯¹å€¼çš„å‡½æ•°abs()ä¸ºä¾‹ï¼Œè°ƒç”¨è¯¥å‡½æ•°ç”¨ä»¥ä¸‹ä»£ç ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; abs(-10) 10   ä½†æ˜¯ï¼Œå¦‚æœåªå†™abså‘¢ï¼Ÿ\n1 2  \u0026gt;\u0026gt;\u0026gt; abs \u0026lt;built-in function abs\u0026gt;   å¯è§ï¼Œabs(-10)æ˜¯å‡½æ•°è°ƒç”¨ï¼Œè€Œabsæ˜¯å‡½æ•°æœ¬èº«ã€‚\nè¦è·å¾—å‡½æ•°è°ƒç”¨ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥æŠŠç»“æœèµ‹å€¼ç»™å˜é‡ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; x = abs(-10) \u0026gt;\u0026gt;\u0026gt; x 10   ä½†æ˜¯ï¼Œå¦‚æœæŠŠå‡½æ•°æœ¬èº«èµ‹å€¼ç»™å˜é‡å‘¢ï¼Ÿ\n1 2 3  \u0026gt;\u0026gt;\u0026gt; f = abs \u0026gt;\u0026gt;\u0026gt; f \u0026lt;built-in function abs\u0026gt;   ç»“è®ºï¼šå‡½æ•°æœ¬èº«ä¹Ÿå¯ä»¥èµ‹å€¼ç»™å˜é‡ï¼Œå³ï¼šå˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ã€‚\nå¦‚æœä¸€ä¸ªå˜é‡æŒ‡å‘äº†ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆï¼Œå¯å¦é€šè¿‡è¯¥å˜é‡æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Ÿç”¨ä»£ç éªŒè¯ä¸€ä¸‹ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; f = abs \u0026gt;\u0026gt;\u0026gt; f(-10) 10   æˆåŠŸï¼è¯´æ˜å˜é‡fç°åœ¨å·²ç»æŒ‡å‘äº†abså‡½æ•°æœ¬èº«ã€‚ç›´æ¥è°ƒç”¨abs()å‡½æ•°å’Œè°ƒç”¨å˜é‡f()å®Œå…¨ç›¸åŒã€‚\nå‡½æ•°åä¹Ÿæ˜¯å˜é‡ é‚£ä¹ˆå‡½æ•°åæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå‡½æ•°åå…¶å®å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡ï¼å¯¹äºabs()è¿™ä¸ªå‡½æ•°ï¼Œå®Œå…¨å¯ä»¥æŠŠå‡½æ•°åabsçœ‹æˆå˜é‡ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªå¯ä»¥è®¡ç®—ç»å¯¹å€¼çš„å‡½æ•°ï¼\nå¦‚æœæŠŠabsæŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä¼šæœ‰ä»€ä¹ˆæƒ…å†µå‘ç”Ÿï¼Ÿ\n1 2 3 4 5  \u0026gt;\u0026gt;\u0026gt; abs = 10 \u0026gt;\u0026gt;\u0026gt; abs(-10) Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: \u0026#39;int\u0026#39; object is not callable   æŠŠabsæŒ‡å‘10åï¼Œå°±æ— æ³•é€šè¿‡abs(-10)è°ƒç”¨è¯¥å‡½æ•°äº†ï¼å› ä¸ºabsè¿™ä¸ªå˜é‡å·²ç»ä¸æŒ‡å‘æ±‚ç»å¯¹å€¼å‡½æ•°è€Œæ˜¯æŒ‡å‘ä¸€ä¸ªæ•´æ•°10ï¼\nå½“ç„¶å®é™…ä»£ç ç»å¯¹ä¸èƒ½è¿™ä¹ˆå†™ï¼Œè¿™é‡Œæ˜¯ä¸ºäº†è¯´æ˜å‡½æ•°åä¹Ÿæ˜¯å˜é‡ã€‚è¦æ¢å¤abså‡½æ•°ï¼Œè¯·é‡å¯Pythonäº¤äº’ç¯å¢ƒã€‚\næ³¨ï¼šç”±äºabså‡½æ•°å®é™…ä¸Šæ˜¯å®šä¹‰åœ¨import builtinsæ¨¡å—ä¸­çš„ï¼Œæ‰€ä»¥è¦è®©ä¿®æ”¹abså˜é‡çš„æŒ‡å‘åœ¨å…¶å®ƒæ¨¡å—ä¹Ÿç”Ÿæ•ˆï¼Œè¦ç”¨import builtins; builtins.abs = 10ã€‚\nä¼ å…¥å‡½æ•° æ—¢ç„¶å˜é‡å¯ä»¥æŒ‡å‘å‡½æ•°ï¼Œå‡½æ•°çš„å‚æ•°èƒ½æ¥æ”¶å˜é‡ï¼Œé‚£ä¹ˆä¸€ä¸ªå‡½æ•°å°±å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¿™ç§å‡½æ•°å°±ç§°ä¹‹ä¸ºé«˜é˜¶å‡½æ•°ã€‚\nä¸€ä¸ªæœ€ç®€å•çš„é«˜é˜¶å‡½æ•°ï¼š\n1 2  def add(x, y, f): return f(x) + f(y)   å½“æˆ‘ä»¬è°ƒç”¨add(-5, 6, abs)æ—¶ï¼Œå‚æ•°xï¼Œyå’Œfåˆ†åˆ«æ¥æ”¶-5ï¼Œ6å’Œabsï¼Œæ ¹æ®å‡½æ•°å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å¯¼è®¡ç®—è¿‡ç¨‹ä¸ºï¼š\n1 2 3 4 5  x = -5 y = 6 f = abs f(x) + f(y) ==\u0026gt; abs(-5) + abs(6) ==\u0026gt; 11 return 11   map/reduce Pythonå†…å»ºäº†map()å’Œreduce()å‡½æ•°\nmap()å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯å‡½æ•°ï¼Œä¸€ä¸ªæ˜¯Iterableï¼Œmapå°†ä¼ å…¥çš„å‡½æ•°ä¾æ¬¡ä½œç”¨åˆ°åºåˆ—çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶æŠŠç»“æœä½œä¸ºæ–°çš„Iteratorè¿”å›ã€‚\nä¸¾ä¾‹è¯´æ˜ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå‡½æ•°f(x)=x^2^ï¼Œè¦æŠŠè¿™ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªlist [1, 2, 3, 4, 5, 6, 7, 8, 9]ä¸Šï¼Œå°±å¯ä»¥ç”¨map()å®ç°å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  f(x) = x * x â”‚ â”‚ â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¼â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ [ 1 2 3 4 5 6 7 8 9 ] â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ â–¼ [ 1 4 9 16 25 36 49 64 81 ]   ç°åœ¨ï¼Œæˆ‘ä»¬ç”¨Pythonä»£ç å®ç°ï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; def f(x): ... return x * x ... \u0026gt;\u0026gt;\u0026gt; r = map(f, [1, 2, 3, 4, 5, 6, 7, 8, 9]) \u0026gt;\u0026gt;\u0026gt; list(r) [1, 4, 9, 16, 25, 36, 49, 64, 81]   map()ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯fï¼Œå³å‡½æ•°å¯¹è±¡æœ¬èº«ã€‚ç”±äºç»“æœræ˜¯ä¸€ä¸ªIteratorï¼ŒIteratoræ˜¯æƒ°æ€§åºåˆ—ï¼Œå› æ­¤é€šè¿‡list()å‡½æ•°è®©å®ƒæŠŠæ•´ä¸ªåºåˆ—éƒ½è®¡ç®—å‡ºæ¥å¹¶è¿”å›ä¸€ä¸ªlistã€‚\nreduceæŠŠä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨ä¸€ä¸ªåºåˆ—[x1, x2, x3, ...]ä¸Šï¼Œè¿™ä¸ªå‡½æ•°å¿…é¡»æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼ŒreduceæŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ä¸‹ä¸€ä¸ªå…ƒç´ åšç´¯ç§¯è®¡ç®—ï¼Œå…¶æ•ˆæœå°±æ˜¯ï¼š\n1  reduce(f, [x1, x2, x3, x4]) = f(f(f(x1, x2), x3), x4)   æ¯”æ–¹è¯´å¯¹ä¸€ä¸ªåºåˆ—æ±‚å’Œï¼Œå°±å¯ä»¥ç”¨reduceå®ç°ï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; from functools import reduce \u0026gt;\u0026gt;\u0026gt; def add(x, y): ... return x + y ... \u0026gt;\u0026gt;\u0026gt; reduce(add, [1, 3, 5, 7, 9]) 25   å½“ç„¶æ±‚å’Œè¿ç®—å¯ä»¥ç›´æ¥ç”¨Pythonå†…å»ºå‡½æ•°sum()ï¼Œæ²¡å¿…è¦åŠ¨ç”¨reduceã€‚\nä½†æ˜¯å¦‚æœè¦æŠŠåºåˆ—[1, 3, 5, 7, 9]å˜æ¢æˆæ•´æ•°13579ï¼Œreduceå°±å¯ä»¥æ´¾ä¸Šç”¨åœºï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; from functools import reduce \u0026gt;\u0026gt;\u0026gt; def fn(x, y): ... return x * 10 + y ... \u0026gt;\u0026gt;\u0026gt; reduce(fn, [1, 3, 5, 7, 9]) 13579   è¿™ä¸ªä¾‹å­æœ¬èº«æ²¡å¤šå¤§ç”¨å¤„ï¼Œä½†æ˜¯ï¼Œå¦‚æœè€ƒè™‘åˆ°å­—ç¬¦ä¸²strä¹Ÿæ˜¯ä¸€ä¸ªåºåˆ—ï¼Œå¯¹ä¸Šé¢çš„ä¾‹å­ç¨åŠ æ”¹åŠ¨ï¼Œé…åˆmap()ï¼Œæˆ‘ä»¬å°±å¯ä»¥å†™å‡ºæŠŠstrè½¬æ¢ä¸ºintçš„å‡½æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10  \u0026gt;\u0026gt;\u0026gt; from functools import reduce \u0026gt;\u0026gt;\u0026gt; def fn(x, y): ... return x * 10 + y ... \u0026gt;\u0026gt;\u0026gt; def char2num(s): ... digits = {\u0026#39;0\u0026#39;: 0, \u0026#39;1\u0026#39;: 1, \u0026#39;2\u0026#39;: 2, \u0026#39;3\u0026#39;: 3, \u0026#39;4\u0026#39;: 4, \u0026#39;5\u0026#39;: 5, \u0026#39;6\u0026#39;: 6, \u0026#39;7\u0026#39;: 7, \u0026#39;8\u0026#39;: 8, \u0026#39;9\u0026#39;: 9} ... return digits[s] ... \u0026gt;\u0026gt;\u0026gt; reduce(fn, map(char2num, \u0026#39;13579\u0026#39;)) 13579   æ•´ç†æˆä¸€ä¸ªstr2intçš„å‡½æ•°å°±æ˜¯ï¼š\n1 2 3 4 5 6 7 8 9 10  from functools import reduce DIGITS = {\u0026#39;0\u0026#39;: 0, \u0026#39;1\u0026#39;: 1, \u0026#39;2\u0026#39;: 2, \u0026#39;3\u0026#39;: 3, \u0026#39;4\u0026#39;: 4, \u0026#39;5\u0026#39;: 5, \u0026#39;6\u0026#39;: 6, \u0026#39;7\u0026#39;: 7, \u0026#39;8\u0026#39;: 8, \u0026#39;9\u0026#39;: 9} def str2int(s): def fn(x, y): return x * 10 + y def char2num(s): return DIGITS[s] return reduce(fn, map(char2num, s))   è¿˜å¯ä»¥ç”¨lambdaå‡½æ•°è¿›ä¸€æ­¥ç®€åŒ–æˆï¼š\n1 2 3 4 5 6 7 8 9  from functools import reduce DIGITS = {\u0026#39;0\u0026#39;: 0, \u0026#39;1\u0026#39;: 1, \u0026#39;2\u0026#39;: 2, \u0026#39;3\u0026#39;: 3, \u0026#39;4\u0026#39;: 4, \u0026#39;5\u0026#39;: 5, \u0026#39;6\u0026#39;: 6, \u0026#39;7\u0026#39;: 7, \u0026#39;8\u0026#39;: 8, \u0026#39;9\u0026#39;: 9} def char2num(s): return DIGITS[s] def str2int(s): return reduce(lambda x, y: x * 10 + y, map(char2num, s))   ä¹Ÿå°±æ˜¯è¯´ï¼Œå‡è®¾Pythonæ²¡æœ‰æä¾›int()å‡½æ•°ï¼Œä½ å®Œå…¨å¯ä»¥è‡ªå·±å†™ä¸€ä¸ªæŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸ºæ•´æ•°çš„å‡½æ•°ï¼Œè€Œä¸”åªéœ€è¦å‡ è¡Œä»£ç ï¼\n"
},
{
	"uri": "http://yu-zhang-1985.github.io/en/posts/python%E5%9F%BA%E7%A1%802/",
	"title": "PythonåŸºç¡€2",
	"tags": ["Python"],
	"categories": [],
	"series": [],
	"description": "",
	"content": " Python åŸºç¡€ 2 - 2019.12.4 é«˜çº§ç‰¹æ€§ åˆ‡ç‰‡ å–å‰3ä¸ªå…ƒç´ ï¼Œç”¨ä¸€è¡Œä»£ç å°±å¯ä»¥å®Œæˆåˆ‡ç‰‡ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; L[0:3] [\u0026#39;Michael\u0026#39;, \u0026#39;Sarah\u0026#39;, \u0026#39;Tracy\u0026#39;]   L[0:3]è¡¨ç¤ºï¼Œä»ç´¢å¼•0å¼€å§‹å–ï¼Œç›´åˆ°ç´¢å¼•3ä¸ºæ­¢ï¼Œä½†ä¸åŒ…æ‹¬ç´¢å¼•3ã€‚å³ç´¢å¼•0ï¼Œ1ï¼Œ2ï¼Œæ­£å¥½æ˜¯3ä¸ªå…ƒç´ ã€‚\nå¦‚æœç¬¬ä¸€ä¸ªç´¢å¼•æ˜¯0ï¼Œè¿˜å¯ä»¥çœç•¥ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; L[:3] [\u0026#39;Michael\u0026#39;, \u0026#39;Sarah\u0026#39;, \u0026#39;Tracy\u0026#39;]   ç”šè‡³ä»€ä¹ˆéƒ½ä¸å†™ï¼Œåªå†™[:]å°±å¯ä»¥åŸæ ·å¤åˆ¶ä¸€ä¸ªlist.\ntupleä¹Ÿæ˜¯ä¸€ç§listï¼Œå”¯ä¸€åŒºåˆ«æ˜¯tupleä¸å¯å˜ã€‚å› æ­¤ï¼Œtupleä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œçš„ç»“æœä»æ˜¯tupleï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; (0, 1, 2, 3, 4, 5)[:3] (0, 1, 2)   å­—ç¬¦ä¸²'xxx'ä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ç§listï¼Œæ¯ä¸ªå…ƒç´ å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ã€‚å› æ­¤ï¼Œå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥ç”¨åˆ‡ç‰‡æ“ä½œï¼Œåªæ˜¯æ“ä½œç»“æœä»æ˜¯å­—ç¬¦ä¸²ï¼š\n1 2 3 4  \u0026gt;\u0026gt;\u0026gt; \u0026#39;ABCDEFG\u0026#39;[:3] \u0026#39;ABC\u0026#39; \u0026gt;\u0026gt;\u0026gt; \u0026#39;ABCDEFG\u0026#39;[::2] \u0026#39;ACEG\u0026#39;   è¿­ä»£ å¦‚æœç»™å®šä¸€ä¸ªlistæˆ–tupleï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡forå¾ªç¯æ¥éå†è¿™ä¸ªlistæˆ–tupleï¼Œè¿™ç§éå†æˆ‘ä»¬ç§°ä¸ºè¿­ä»£ï¼ˆIterationï¼‰ã€‚\nåœ¨Pythonä¸­ï¼Œè¿­ä»£æ˜¯é€šè¿‡for ... inæ¥å®Œæˆçš„ï¼š\nPythonçš„forå¾ªç¯æŠ½è±¡ç¨‹åº¦è¦é«˜äºCçš„forå¾ªç¯ï¼Œå› ä¸ºPythonçš„forå¾ªç¯ä¸ä»…å¯ä»¥ç”¨åœ¨listæˆ–tupleä¸Šï¼Œè¿˜å¯ä»¥ä½œç”¨åœ¨å…¶ä»–å¯è¿­ä»£å¯¹è±¡ä¸Šã€‚\nlistè¿™ç§æ•°æ®ç±»å‹è™½ç„¶æœ‰ä¸‹æ ‡ï¼Œä½†å¾ˆå¤šå…¶ä»–æ•°æ®ç±»å‹æ˜¯æ²¡æœ‰ä¸‹æ ‡çš„ï¼Œä½†æ˜¯ï¼Œåªè¦æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œæ— è®ºæœ‰æ— ä¸‹æ ‡ï¼Œéƒ½å¯ä»¥è¿­ä»£ï¼Œæ¯”å¦‚dictå°±å¯ä»¥è¿­ä»£ï¼š\n1 2 3 4 5 6 7  \u0026gt;\u0026gt;\u0026gt; d = {\u0026#39;a\u0026#39;: 1, \u0026#39;b\u0026#39;: 2, \u0026#39;c\u0026#39;: 3} \u0026gt;\u0026gt;\u0026gt; for key in d: ... print(key) ... a c b   å› ä¸ºdictçš„å­˜å‚¨ä¸æ˜¯æŒ‰ç…§listçš„æ–¹å¼é¡ºåºæ’åˆ—ï¼Œæ‰€ä»¥ï¼Œè¿­ä»£å‡ºçš„ç»“æœé¡ºåºå¾ˆå¯èƒ½ä¸ä¸€æ ·ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œdictè¿­ä»£çš„æ˜¯keyã€‚å¦‚æœè¦è¿­ä»£valueï¼Œå¯ä»¥ç”¨for value in d.values()ï¼Œå¦‚æœè¦åŒæ—¶è¿­ä»£keyå’Œvalueï¼Œå¯ä»¥ç”¨for k, v in d.items()ã€‚\nç”±äºå­—ç¬¦ä¸²ä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œå› æ­¤ï¼Œä¹Ÿå¯ä»¥ä½œç”¨äºforå¾ªç¯ï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; for ch in \u0026#39;ABC\u0026#39;: ... print(ch) ... A B C   æ‰€ä»¥ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨forå¾ªç¯æ—¶ï¼Œåªè¦ä½œç”¨äºä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œforå¾ªç¯å°±å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè€Œæˆ‘ä»¬ä¸å¤ªå…³å¿ƒè¯¥å¯¹è±¡ç©¶ç«Ÿæ˜¯listè¿˜æ˜¯å…¶ä»–æ•°æ®ç±»å‹ã€‚\né‚£ä¹ˆï¼Œå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡å‘¢ï¼Ÿæ–¹æ³•æ˜¯é€šè¿‡collectionsæ¨¡å—çš„Iterableç±»å‹åˆ¤æ–­ï¼š\n1 2 3 4 5 6 7  \u0026gt;\u0026gt;\u0026gt; from collections import Iterable \u0026gt;\u0026gt;\u0026gt; isinstance(\u0026#39;abc\u0026#39;, Iterable) # stræ˜¯å¦å¯è¿­ä»£ True \u0026gt;\u0026gt;\u0026gt; isinstance([1,2,3], Iterable) # listæ˜¯å¦å¯è¿­ä»£ True \u0026gt;\u0026gt;\u0026gt; isinstance(123, Iterable) # æ•´æ•°æ˜¯å¦å¯è¿­ä»£ False   åˆ—è¡¨ç”Ÿæˆå¼ åˆ—è¡¨ç”Ÿæˆå¼å³List Comprehensionsï¼Œæ˜¯Pythonå†…ç½®çš„éå¸¸ç®€å•å´å¼ºå¤§çš„å¯ä»¥ç”¨æ¥åˆ›å»ºlistçš„ç”Ÿæˆå¼ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œè¦ç”Ÿæˆlist [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]å¯ä»¥ç”¨list(range(1, 11))ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; list(range(1, 11)) [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]   ä½†å¦‚æœè¦ç”Ÿæˆ[1x1, 2x2, 3x3, ..., 10x10]æ€ä¹ˆåšï¼Ÿæ–¹æ³•ä¸€æ˜¯å¾ªç¯ï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; L = [] \u0026gt;\u0026gt;\u0026gt; for x in range(1, 11): ... L.append(x * x) ... \u0026gt;\u0026gt;\u0026gt; L [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]   ä½†æ˜¯å¾ªç¯å¤ªç¹çï¼Œè€Œåˆ—è¡¨ç”Ÿæˆå¼åˆ™å¯ä»¥ç”¨ä¸€è¡Œè¯­å¥ä»£æ›¿å¾ªç¯ç”Ÿæˆä¸Šé¢çš„listï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; [x * x for x in range(1, 11)] [1, 4, 9, 16, 25, 36, 49, 64, 81, 100]   å†™åˆ—è¡¨ç”Ÿæˆå¼æ—¶ï¼ŒæŠŠè¦ç”Ÿæˆçš„å…ƒç´ x * xæ”¾åˆ°å‰é¢ï¼Œåé¢è·Ÿforå¾ªç¯ï¼Œå°±å¯ä»¥æŠŠliståˆ›å»ºå‡ºæ¥ï¼Œååˆ†æœ‰ç”¨ï¼Œå¤šå†™å‡ æ¬¡ï¼Œå¾ˆå¿«å°±å¯ä»¥ç†Ÿæ‚‰è¿™ç§è¯­æ³•ã€‚\nforå¾ªç¯åé¢è¿˜å¯ä»¥åŠ ä¸Šifåˆ¤æ–­ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç­›é€‰å‡ºä»…å¶æ•°çš„å¹³æ–¹ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; [x * x for x in range(1, 11) if x % 2 == 0] [4, 16, 36, 64, 100]   è¿˜å¯ä»¥ä½¿ç”¨ä¸¤å±‚å¾ªç¯ï¼Œå¯ä»¥ç”Ÿæˆå…¨æ’åˆ—ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; [m + n for m in \u0026#39;ABC\u0026#39; for n in \u0026#39;XYZ\u0026#39;] [\u0026#39;AX\u0026#39;, \u0026#39;AY\u0026#39;, \u0026#39;AZ\u0026#39;, \u0026#39;BX\u0026#39;, \u0026#39;BY\u0026#39;, \u0026#39;BZ\u0026#39;, \u0026#39;CX\u0026#39;, \u0026#39;CY\u0026#39;, \u0026#39;CZ\u0026#39;]   ä¸‰å±‚å’Œä¸‰å±‚ä»¥ä¸Šçš„å¾ªç¯å°±å¾ˆå°‘ç”¨åˆ°äº†ã€‚\nè¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ï¼Œå¯ä»¥å†™å‡ºéå¸¸ç®€æ´çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œåˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•åï¼Œå¯ä»¥é€šè¿‡ä¸€è¡Œä»£ç å®ç°ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; import os # å¯¼å…¥osæ¨¡å—ï¼Œæ¨¡å—çš„æ¦‚å¿µåé¢è®²åˆ° \u0026gt;\u0026gt;\u0026gt; [d for d in os.listdir(\u0026#39;.\u0026#39;)] # os.listdirå¯ä»¥åˆ—å‡ºæ–‡ä»¶å’Œç›®å½• [\u0026#39;.emacs.d\u0026#39;, \u0026#39;.ssh\u0026#39;, \u0026#39;.Trash\u0026#39;, \u0026#39;Adlm\u0026#39;, \u0026#39;Applications\u0026#39;, \u0026#39;Desktop\u0026#39;, \u0026#39;Documents\u0026#39;, \u0026#39;Downloads\u0026#39;, \u0026#39;Library\u0026#39;, \u0026#39;Movies\u0026#39;, \u0026#39;Music\u0026#39;, \u0026#39;Pictures\u0026#39;, \u0026#39;Public\u0026#39;, \u0026#39;VirtualBox VMs\u0026#39;, \u0026#39;Workspace\u0026#39;, \u0026#39;XCode\u0026#39;]   forå¾ªç¯å…¶å®å¯ä»¥åŒæ—¶ä½¿ç”¨ä¸¤ä¸ªç”šè‡³å¤šä¸ªå˜é‡ï¼Œæ¯”å¦‚dictçš„items()å¯ä»¥åŒæ—¶è¿­ä»£keyå’Œvalueï¼š\n1 2 3 4 5 6 7  \u0026gt;\u0026gt;\u0026gt; d = {\u0026#39;x\u0026#39;: \u0026#39;A\u0026#39;, \u0026#39;y\u0026#39;: \u0026#39;B\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;C\u0026#39; } \u0026gt;\u0026gt;\u0026gt; for k, v in d.items(): ... print(k, \u0026#39;=\u0026#39;, v) ... y = B x = A z = C   å› æ­¤ï¼Œåˆ—è¡¨ç”Ÿæˆå¼ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªå˜é‡æ¥ç”Ÿæˆlistï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; d = {\u0026#39;x\u0026#39;: \u0026#39;A\u0026#39;, \u0026#39;y\u0026#39;: \u0026#39;B\u0026#39;, \u0026#39;z\u0026#39;: \u0026#39;C\u0026#39; } \u0026gt;\u0026gt;\u0026gt; [k + \u0026#39;=\u0026#39; + v for k, v in d.items()] [\u0026#39;y=B\u0026#39;, \u0026#39;x=A\u0026#39;, \u0026#39;z=C\u0026#39;]   æœ€åæŠŠä¸€ä¸ªlistä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²å˜æˆå°å†™ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; L = [\u0026#39;Hello\u0026#39;, \u0026#39;World\u0026#39;, \u0026#39;IBM\u0026#39;, \u0026#39;Apple\u0026#39;] \u0026gt;\u0026gt;\u0026gt; [s.lower() for s in L] [\u0026#39;hello\u0026#39;, \u0026#39;world\u0026#39;, \u0026#39;ibm\u0026#39;, \u0026#39;apple\u0026#39;]   ç”Ÿæˆå™¨ é€šè¿‡åˆ—è¡¨ç”Ÿæˆå¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚ä½†æ˜¯ï¼Œå—åˆ°å†…å­˜é™åˆ¶ï¼Œåˆ—è¡¨å®¹é‡è‚¯å®šæ˜¯æœ‰é™çš„ã€‚è€Œä¸”ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«100ä¸‡ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œä¸ä»…å ç”¨å¾ˆå¤§çš„å­˜å‚¨ç©ºé—´ï¼Œå¦‚æœæˆ‘ä»¬ä»…ä»…éœ€è¦è®¿é—®å‰é¢å‡ ä¸ªå…ƒç´ ï¼Œé‚£åé¢ç»å¤§å¤šæ•°å…ƒç´ å ç”¨çš„ç©ºé—´éƒ½ç™½ç™½æµªè´¹äº†ã€‚\næ‰€ä»¥ï¼Œå¦‚æœåˆ—è¡¨å…ƒç´ å¯ä»¥æŒ‰ç…§æŸç§ç®—æ³•æ¨ç®—å‡ºæ¥ï¼Œé‚£æˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ä¸æ–­æ¨ç®—å‡ºåç»­çš„å…ƒç´ å‘¢ï¼Ÿè¿™æ ·å°±ä¸å¿…åˆ›å»ºå®Œæ•´çš„listï¼Œä»è€ŒèŠ‚çœå¤§é‡çš„ç©ºé—´ã€‚åœ¨Pythonä¸­ï¼Œè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ï¼Œç§°ä¸ºç”Ÿæˆå™¨ï¼šgeneratorã€‚\nè¦åˆ›å»ºä¸€ä¸ªgeneratorï¼Œæœ‰å¾ˆå¤šç§æ–¹æ³•ã€‚ç¬¬ä¸€ç§æ–¹æ³•å¾ˆç®€å•ï¼Œåªè¦æŠŠä¸€ä¸ªåˆ—è¡¨ç”Ÿæˆå¼çš„[]æ”¹æˆ()ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªgeneratorï¼š\n1 2 3 4 5 6  \u0026gt;\u0026gt;\u0026gt; L = [x * x for x in range(10)] \u0026gt;\u0026gt;\u0026gt; L [0, 1, 4, 9, 16, 25, 36, 49, 64, 81] \u0026gt;\u0026gt;\u0026gt; g = (x * x for x in range(10)) \u0026gt;\u0026gt;\u0026gt; g \u0026lt;generator object \u0026lt;genexpr\u0026gt; at 0x1022ef630\u0026gt;   åˆ›å»ºLå’Œgçš„åŒºåˆ«ä»…åœ¨äºæœ€å¤–å±‚çš„[]å’Œ()ï¼ŒLæ˜¯ä¸€ä¸ªlistï¼Œè€Œgæ˜¯ä¸€ä¸ªgeneratorã€‚\næˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å°å‡ºlistçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œä½†æˆ‘ä»¬æ€ä¹ˆæ‰“å°å‡ºgeneratorçš„æ¯ä¸€ä¸ªå…ƒç´ å‘¢ï¼Ÿ\nå¦‚æœè¦ä¸€ä¸ªä¸€ä¸ªæ‰“å°å‡ºæ¥ï¼Œå¯ä»¥é€šè¿‡next()å‡½æ•°è·å¾—generatorçš„ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24  \u0026gt;\u0026gt;\u0026gt; next(g) 0 \u0026gt;\u0026gt;\u0026gt; next(g) 1 \u0026gt;\u0026gt;\u0026gt; next(g) 4 \u0026gt;\u0026gt;\u0026gt; next(g) 9 \u0026gt;\u0026gt;\u0026gt; next(g) 16 \u0026gt;\u0026gt;\u0026gt; next(g) 25 \u0026gt;\u0026gt;\u0026gt; next(g) 36 \u0026gt;\u0026gt;\u0026gt; next(g) 49 \u0026gt;\u0026gt;\u0026gt; next(g) 64 \u0026gt;\u0026gt;\u0026gt; next(g) 81 \u0026gt;\u0026gt;\u0026gt; next(g) Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; StopIteration   æˆ‘ä»¬è®²è¿‡ï¼Œgeneratorä¿å­˜çš„æ˜¯ç®—æ³•ï¼Œæ¯æ¬¡è°ƒç”¨next(g)ï¼Œå°±è®¡ç®—å‡ºgçš„ä¸‹ä¸€ä¸ªå…ƒç´ çš„å€¼ï¼Œç›´åˆ°è®¡ç®—åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ²¡æœ‰æ›´å¤šçš„å…ƒç´ æ—¶ï¼ŒæŠ›å‡ºStopIterationçš„é”™è¯¯ã€‚\nå½“ç„¶ï¼Œä¸Šé¢è¿™ç§ä¸æ–­è°ƒç”¨next(g)å®åœ¨æ˜¯å¤ªå˜æ€äº†ï¼Œæ­£ç¡®çš„æ–¹æ³•æ˜¯ä½¿ç”¨forå¾ªç¯ï¼Œå› ä¸ºgeneratorä¹Ÿæ˜¯å¯è¿­ä»£å¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026gt;\u0026gt;\u0026gt; g = (x * x for x in range(10)) \u0026gt;\u0026gt;\u0026gt; for n in g: ... print(n) ... 0 1 4 9 16 25 36 49 64 81   æ‰€ä»¥ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªgeneratoråï¼ŒåŸºæœ¬ä¸Šæ°¸è¿œä¸ä¼šè°ƒç”¨next()ï¼Œè€Œæ˜¯é€šè¿‡forå¾ªç¯æ¥è¿­ä»£å®ƒï¼Œå¹¶ä¸”ä¸éœ€è¦å…³å¿ƒStopIterationçš„é”™è¯¯ã€‚\ngeneratoréå¸¸å¼ºå¤§ã€‚å¦‚æœæ¨ç®—çš„ç®—æ³•æ¯”è¾ƒå¤æ‚ï¼Œç”¨ç±»ä¼¼åˆ—è¡¨ç”Ÿæˆå¼çš„forå¾ªç¯æ— æ³•å®ç°çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥ç”¨å‡½æ•°æ¥å®ç°ã€‚\næ¯”å¦‚ï¼Œè‘—åçš„æ–æ³¢æ‹‰å¥‘æ•°åˆ—ï¼ˆFibonacciï¼‰ï¼Œé™¤ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªæ•°å¤–ï¼Œä»»æ„ä¸€ä¸ªæ•°éƒ½å¯ç”±å‰ä¸¤ä¸ªæ•°ç›¸åŠ å¾—åˆ°ï¼š\n1, 1, 2, 3, 5, 8, 13, 21, 34, \u0026hellip;\næ–æ³¢æ‹‰å¥‘æ•°åˆ—ç”¨åˆ—è¡¨ç”Ÿæˆå¼å†™ä¸å‡ºæ¥ï¼Œä½†æ˜¯ï¼Œç”¨å‡½æ•°æŠŠå®ƒæ‰“å°å‡ºæ¥å´å¾ˆå®¹æ˜“ï¼š\n1 2 3 4 5 6 7  def fib(max): n, a, b = 0, 0, 1 while n \u0026lt; max: print(b) a, b = b, a + b n = n + 1 return \u0026#39;done\u0026#39;   *æ³¨æ„*ï¼Œèµ‹å€¼è¯­å¥ï¼š\n1  a, b = b, a + b   ç›¸å½“äºï¼š\n1 2 3  t = (b, a + b) # tæ˜¯ä¸€ä¸ªtuple a = t[0] b = t[1]   ä½†ä¸å¿…æ˜¾å¼å†™å‡ºä¸´æ—¶å˜é‡tå°±å¯ä»¥èµ‹å€¼ã€‚\nä¸Šé¢çš„å‡½æ•°å¯ä»¥è¾“å‡ºæ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰Nä¸ªæ•°ï¼š\n1 2 3 4 5 6 7 8  \u0026gt;\u0026gt;\u0026gt; fib(6) 1 1 2 3 5 8 \u0026#39;done\u0026#39;   ä»”ç»†è§‚å¯Ÿï¼Œå¯ä»¥çœ‹å‡ºï¼Œfibå‡½æ•°å®é™…ä¸Šæ˜¯å®šä¹‰äº†æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„æ¨ç®—è§„åˆ™ï¼Œå¯ä»¥ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¨ç®—å‡ºåç»­ä»»æ„çš„å…ƒç´ ï¼Œè¿™ç§é€»è¾‘å…¶å®éå¸¸ç±»ä¼¼generatorã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä¸Šé¢çš„å‡½æ•°å’Œgeneratorä»…ä¸€æ­¥ä¹‹é¥ã€‚è¦æŠŠfibå‡½æ•°å˜æˆgeneratorï¼Œåªéœ€è¦æŠŠprint(b)æ”¹ä¸ºyield bå°±å¯ä»¥äº†ï¼š\n1 2 3 4 5 6 7  def fib(max): n, a, b = 0, 0, 1 while n \u0026lt; max: yield b a, b = b, a + b n = n + 1 return \u0026#39;done\u0026#39;   è¿™å°±æ˜¯å®šä¹‰generatorçš„å¦ä¸€ç§æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°å®šä¹‰ä¸­åŒ…å«yieldå…³é”®å­—ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸å†æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯ä¸€ä¸ªgeneratorï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; f = fib(6) \u0026gt;\u0026gt;\u0026gt; f \u0026lt;generator object fib at 0x104feaaa0\u0026gt;   è¿™é‡Œï¼Œæœ€éš¾ç†è§£çš„å°±æ˜¯generatorå’Œå‡½æ•°çš„æ‰§è¡Œæµç¨‹ä¸ä¸€æ ·ã€‚å‡½æ•°æ˜¯é¡ºåºæ‰§è¡Œï¼Œé‡åˆ°returnè¯­å¥æˆ–è€…æœ€åä¸€è¡Œå‡½æ•°è¯­å¥å°±è¿”å›ã€‚è€Œå˜æˆgeneratorçš„å‡½æ•°ï¼Œåœ¨æ¯æ¬¡è°ƒç”¨next()çš„æ—¶å€™æ‰§è¡Œï¼Œé‡åˆ°yieldè¯­å¥è¿”å›ï¼Œå†æ¬¡æ‰§è¡Œæ—¶ä»ä¸Šæ¬¡è¿”å›çš„yieldè¯­å¥å¤„ç»§ç»­æ‰§è¡Œã€‚\nä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®šä¹‰ä¸€ä¸ªgeneratorï¼Œä¾æ¬¡è¿”å›æ•°å­—1ï¼Œ3ï¼Œ5ï¼š\n1 2 3 4 5 6 7  def odd(): print(\u0026#39;step 1\u0026#39;) yield 1 print(\u0026#39;step 2\u0026#39;) yield(3) print(\u0026#39;step 3\u0026#39;) yield(5)   è°ƒç”¨è¯¥generatoræ—¶ï¼Œé¦–å…ˆè¦ç”Ÿæˆä¸€ä¸ªgeneratorå¯¹è±¡ï¼Œç„¶åç”¨next()å‡½æ•°ä¸æ–­è·å¾—ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14  \u0026gt;\u0026gt;\u0026gt; o = odd() \u0026gt;\u0026gt;\u0026gt; next(o) step 1 1 \u0026gt;\u0026gt;\u0026gt; next(o) step 2 3 \u0026gt;\u0026gt;\u0026gt; next(o) step 3 5 \u0026gt;\u0026gt;\u0026gt; next(o) Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; StopIteration   å¯ä»¥çœ‹åˆ°ï¼Œoddä¸æ˜¯æ™®é€šå‡½æ•°ï¼Œè€Œæ˜¯generatorï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°yieldå°±ä¸­æ–­ï¼Œä¸‹æ¬¡åˆç»§ç»­æ‰§è¡Œã€‚æ‰§è¡Œ3æ¬¡yieldåï¼Œå·²ç»æ²¡æœ‰yieldå¯ä»¥æ‰§è¡Œäº†ï¼Œæ‰€ä»¥ï¼Œç¬¬4æ¬¡è°ƒç”¨next(o)å°±æŠ¥é”™ã€‚\nå›åˆ°fibçš„ä¾‹å­ï¼Œæˆ‘ä»¬åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ–­è°ƒç”¨yieldï¼Œå°±ä¼šä¸æ–­ä¸­æ–­ã€‚å½“ç„¶è¦ç»™å¾ªç¯è®¾ç½®ä¸€ä¸ªæ¡ä»¶æ¥é€€å‡ºå¾ªç¯ï¼Œä¸ç„¶å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ— é™æ•°åˆ—å‡ºæ¥ã€‚\nåŒæ ·çš„ï¼ŒæŠŠå‡½æ•°æ”¹æˆgeneratoråï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šä»æ¥ä¸ä¼šç”¨next()æ¥è·å–ä¸‹ä¸€ä¸ªè¿”å›å€¼ï¼Œè€Œæ˜¯ç›´æ¥ä½¿ç”¨forå¾ªç¯æ¥è¿­ä»£ï¼š\n1 2 3 4 5 6 7 8 9  \u0026gt;\u0026gt;\u0026gt; for n in fib(6): ... print(n) ... 1 1 2 3 5 8   ä½†æ˜¯ç”¨forå¾ªç¯è°ƒç”¨generatoræ—¶ï¼Œå‘ç°æ‹¿ä¸åˆ°generatorçš„returnè¯­å¥çš„è¿”å›å€¼ã€‚å¦‚æœæƒ³è¦æ‹¿åˆ°è¿”å›å€¼ï¼Œå¿…é¡»æ•è·StopIterationé”™è¯¯ï¼Œè¿”å›å€¼åŒ…å«åœ¨StopIterationçš„valueä¸­ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16  \u0026gt;\u0026gt;\u0026gt; g = fib(6) \u0026gt;\u0026gt;\u0026gt; while True: ... try: ... x = next(g) ... print(\u0026#39;g:\u0026#39;, x) ... except StopIteration as e: ... print(\u0026#39;Generator return value:\u0026#39;, e.value) ... break ... g: 1 g: 1 g: 2 g: 3 g: 5 g: 8 Generator return value: done   è¿­ä»£å™¨ æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå¯ä»¥ç›´æ¥ä½œç”¨äºforå¾ªç¯çš„æ•°æ®ç±»å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š\nä¸€ç±»æ˜¯é›†åˆæ•°æ®ç±»å‹ï¼Œå¦‚listã€tupleã€dictã€setã€strç­‰ï¼›\nä¸€ç±»æ˜¯generatorï¼ŒåŒ…æ‹¬ç”Ÿæˆå™¨å’Œå¸¦yieldçš„generator functionã€‚\nè¿™äº›å¯ä»¥ç›´æ¥ä½œç”¨äºforå¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ï¼šIterableã€‚\nå¯ä»¥ä½¿ç”¨isinstance()åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Iterableå¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9 10 11  \u0026gt;\u0026gt;\u0026gt; from collections import Iterable \u0026gt;\u0026gt;\u0026gt; isinstance([], Iterable) True \u0026gt;\u0026gt;\u0026gt; isinstance({}, Iterable) True \u0026gt;\u0026gt;\u0026gt; isinstance(\u0026#39;abc\u0026#39;, Iterable) True \u0026gt;\u0026gt;\u0026gt; isinstance((x for x in range(10)), Iterable) True \u0026gt;\u0026gt;\u0026gt; isinstance(100, Iterable) False   è€Œç”Ÿæˆå™¨ä¸ä½†å¯ä»¥ä½œç”¨äºforå¾ªç¯ï¼Œè¿˜å¯ä»¥è¢«next()å‡½æ•°ä¸æ–­è°ƒç”¨å¹¶è¿”å›ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°æœ€åæŠ›å‡ºStopIterationé”™è¯¯è¡¨ç¤ºæ— æ³•ç»§ç»­è¿”å›ä¸‹ä¸€ä¸ªå€¼äº†ã€‚\nå¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªå€¼çš„å¯¹è±¡ç§°ä¸ºè¿­ä»£å™¨ï¼šIteratorã€‚\nå¯ä»¥ä½¿ç”¨isinstance()åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Iteratorå¯¹è±¡ï¼š\n1 2 3 4 5 6 7 8 9  \u0026gt;\u0026gt;\u0026gt; from collections import Iterator \u0026gt;\u0026gt;\u0026gt; isinstance((x for x in range(10)), Iterator) True \u0026gt;\u0026gt;\u0026gt; isinstance([], Iterator) False \u0026gt;\u0026gt;\u0026gt; isinstance({}, Iterator) False \u0026gt;\u0026gt;\u0026gt; isinstance(\u0026#39;abc\u0026#39;, Iterator) False   ç”Ÿæˆå™¨éƒ½æ˜¯Iteratorå¯¹è±¡ï¼Œä½†listã€dictã€strè™½ç„¶æ˜¯Iterableï¼Œå´ä¸æ˜¯Iteratorã€‚\næŠŠlistã€dictã€strç­‰Iterableå˜æˆIteratorå¯ä»¥ä½¿ç”¨iter()å‡½æ•°ï¼š\n1 2 3 4  \u0026gt;\u0026gt;\u0026gt; isinstance(iter([]), Iterator) True \u0026gt;\u0026gt;\u0026gt; isinstance(iter(\u0026#39;abc\u0026#39;), Iterator) True   ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆlistã€dictã€strç­‰æ•°æ®ç±»å‹ä¸æ˜¯Iteratorï¼Ÿ\nè¿™æ˜¯å› ä¸ºPythonçš„Iteratorå¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°æ®æµï¼ŒIteratorå¯¹è±¡å¯ä»¥è¢«next()å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œç›´åˆ°æ²¡æœ‰æ•°æ®æ—¶æŠ›å‡ºStopIterationé”™è¯¯ã€‚å¯ä»¥æŠŠè¿™ä¸ªæ•°æ®æµçœ‹åšæ˜¯ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œä½†æˆ‘ä»¬å´ä¸èƒ½æå‰çŸ¥é“åºåˆ—çš„é•¿åº¦ï¼Œåªèƒ½ä¸æ–­é€šè¿‡next()å‡½æ•°å®ç°æŒ‰éœ€è®¡ç®—ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥Iteratorçš„è®¡ç®—æ˜¯æƒ°æ€§çš„ï¼Œåªæœ‰åœ¨éœ€è¦è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®æ—¶å®ƒæ‰ä¼šè®¡ç®—ã€‚\nIteratorç”šè‡³å¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ— é™å¤§çš„æ•°æ®æµï¼Œä¾‹å¦‚å…¨ä½“è‡ªç„¶æ•°ã€‚è€Œä½¿ç”¨listæ˜¯æ°¸è¿œä¸å¯èƒ½å­˜å‚¨å…¨ä½“è‡ªç„¶æ•°çš„ã€‚\n"
},
{
	"uri": "http://yu-zhang-1985.github.io/en/posts/python%E5%9F%BA%E7%A1%801/",
	"title": "PythonåŸºç¡€1",
	"tags": ["Python"],
	"categories": [],
	"series": [],
	"description": "",
	"content": " Python åŸºç¡€1 - 2019.12.3 Coding 1  # -*- coding:utf-8 -*-   å‘Šè¯‰pythonè§£é‡Šå™¨ï¼ŒæŒ‰ç…§UTF-8ç¼–ç è¯»å–æºä»£ç \nDict  dictçš„keyå¿…é¡»æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚  è¿™æ˜¯å› ä¸ºdictæ ¹æ®keyæ¥è®¡ç®—valueçš„å­˜å‚¨ä½ç½®ï¼Œå¦‚æœæ¯æ¬¡è®¡ç®—ç›¸åŒçš„keyå¾—å‡ºçš„ç»“æœä¸åŒï¼Œé‚£dictå†…éƒ¨å°±å®Œå…¨æ··ä¹±äº†ã€‚è¿™ä¸ªé€šè¿‡keyè®¡ç®—ä½ç½®çš„ç®—æ³•ç§°ä¸ºå“ˆå¸Œç®—æ³•ï¼ˆHashï¼‰ã€‚\nè¦ä¿è¯hashçš„æ­£ç¡®æ€§ï¼Œä½œä¸ºkeyçš„å¯¹è±¡å°±ä¸èƒ½å˜ã€‚åœ¨Pythonä¸­ï¼Œå­—ç¬¦ä¸²ã€æ•´æ•°ç­‰éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œå› æ­¤ï¼Œå¯ä»¥æ”¾å¿ƒåœ°ä½œä¸ºkeyã€‚è€Œlistæ˜¯å¯å˜çš„ï¼Œå°±ä¸èƒ½ä½œä¸ºkeyã€‚\nSet  setå’Œdictç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†ä¸å­˜å‚¨valueã€‚ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨setä¸­ï¼Œæ²¡æœ‰é‡å¤çš„keyã€‚  è¦åˆ›å»ºä¸€ä¸ªsetï¼Œéœ€è¦æä¾›ä¸€ä¸ªlistä½œä¸ºè¾“å…¥é›†åˆï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; s = set([1, 2, 3]) \u0026gt;\u0026gt;\u0026gt; s {1, 2, 3}    é€šè¿‡add(key)æ–¹æ³•å¯ä»¥æ·»åŠ å…ƒç´ åˆ°setä¸­ï¼Œå¯ä»¥é‡å¤æ·»åŠ ï¼Œä½†ä¸ä¼šæœ‰æ•ˆæœ.\n é€šè¿‡remove(key)æ–¹æ³•å¯ä»¥åˆ é™¤å…ƒç´ .\n setå’Œdictçš„å”¯ä¸€åŒºåˆ«ä»…åœ¨äºæ²¡æœ‰å­˜å‚¨å¯¹åº”çš„valueï¼Œä½†æ˜¯ï¼Œsetçš„åŸç†å’Œdictä¸€æ ·ï¼Œæ‰€ä»¥ï¼ŒåŒæ ·ä¸å¯ä»¥æ”¾å…¥å¯å˜å¯¹è±¡ï¼Œå› ä¸ºæ— æ³•åˆ¤æ–­ä¸¤ä¸ªå¯å˜å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œä¹Ÿå°±æ— æ³•ä¿è¯setå†…éƒ¨â€œä¸ä¼šæœ‰é‡å¤å…ƒç´ â€ã€‚\n  ä¸å¯å˜å¯¹è±¡  å¯¹äºä¸å˜å¯¹è±¡æ¥è¯´ï¼Œè°ƒç”¨å¯¹è±¡è‡ªèº«çš„ä»»æ„æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šæ”¹å˜è¯¥å¯¹è±¡è‡ªèº«çš„å†…å®¹ã€‚ç›¸åï¼Œè¿™äº›æ–¹æ³•ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡å¹¶è¿”å›ï¼Œè¿™æ ·ï¼Œå°±ä¿è¯äº†ä¸å¯å˜å¯¹è±¡æœ¬èº«æ°¸è¿œæ˜¯ä¸å¯å˜çš„  å‡½æ•°  å¯ä»¥ç›´æ¥ä»Pythonçš„å®˜æ–¹ç½‘ç«™æŸ¥çœ‹æ–‡æ¡£ï¼šhttp://docs.python.org/3/library/functions.html#abs  ä¹Ÿå¯ä»¥åœ¨äº¤äº’å¼å‘½ä»¤è¡Œé€šè¿‡help(abs)æŸ¥çœ‹abså‡½æ•°çš„å¸®åŠ©ä¿¡æ¯ã€‚\n åœ¨Pythonä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•°è¦ä½¿ç”¨defè¯­å¥ï¼Œä¾æ¬¡å†™å‡ºå‡½æ•°åã€æ‹¬å·ã€æ‹¬å·ä¸­çš„å‚æ•°å’Œå†’å·:ï¼Œç„¶åï¼Œåœ¨ç¼©è¿›å—ä¸­ç¼–å†™å‡½æ•°ä½“ï¼Œå‡½æ•°çš„è¿”å›å€¼ç”¨returnè¯­å¥è¿”å›ã€‚ Pythonçš„å‡½æ•°è¿”å›å¤šå€¼å…¶å®å°±æ˜¯è¿”å›ä¸€ä¸ªtupleã€‚\n å®šä¹‰é»˜è®¤å‚æ•°è¦ç‰¢è®°ä¸€ç‚¹ï¼šé»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ï¼\n  ä¸ºä»€ä¹ˆè¦è®¾è®¡strã€Noneè¿™æ ·çš„ä¸å˜å¯¹è±¡å‘¢ï¼Ÿå› ä¸ºä¸å˜å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå¯¹è±¡å†…éƒ¨çš„æ•°æ®å°±ä¸èƒ½ä¿®æ”¹ï¼Œè¿™æ ·å°±å‡å°‘äº†ç”±äºä¿®æ”¹æ•°æ®å¯¼è‡´çš„é”™è¯¯ã€‚æ­¤å¤–ï¼Œç”±äºå¯¹è±¡ä¸å˜ï¼Œå¤šä»»åŠ¡ç¯å¢ƒä¸‹åŒæ—¶è¯»å–å¯¹è±¡ä¸éœ€è¦åŠ é”ï¼ŒåŒæ—¶è¯»ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå¦‚æœå¯ä»¥è®¾è®¡ä¸€ä¸ªä¸å˜å¯¹è±¡ï¼Œé‚£å°±å°½é‡è®¾è®¡æˆä¸å˜å¯¹è±¡ã€‚\n Pythonå…è®¸ä½ åœ¨listæˆ–tupleå‰é¢åŠ ä¸€ä¸ª*å·ï¼ŒæŠŠlistæˆ–tupleçš„å…ƒç´ å˜æˆå¯å˜å‚æ•°ä¼ è¿›å»ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; nums = [1, 2, 3] \u0026gt;\u0026gt;\u0026gt; calc(*nums) 14   å…³é”®å­—å‚æ•°\n  å¯å˜å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å¯å˜å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªtupleã€‚è€Œå…³é”®å­—å‚æ•°å…è®¸ä½ ä¼ å…¥0ä¸ªæˆ–ä»»æ„ä¸ªå«å‚æ•°åçš„å‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ªdictã€‚è¯·çœ‹ç¤ºä¾‹ï¼š\n1 2  def person(name, age, **kw): print(\u0026#39;name:\u0026#39;, name, \u0026#39;age:\u0026#39;, age, \u0026#39;other:\u0026#39;, kw)   å’Œå¯å˜å‚æ•°ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥å…ˆç»„è£…å‡ºä¸€ä¸ªdictï¼Œç„¶åï¼ŒæŠŠè¯¥dictè½¬æ¢ä¸ºå…³é”®å­—å‚æ•°ä¼ è¿›å»ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; extra = {\u0026#39;city\u0026#39;: \u0026#39;Beijing\u0026#39;, \u0026#39;job\u0026#39;: \u0026#39;Engineer\u0026#39;} \u0026gt;\u0026gt;\u0026gt; person(\u0026#39;Jack\u0026#39;, 24, city=extra[\u0026#39;city\u0026#39;], job=extra[\u0026#39;job\u0026#39;]) name: Jack age: 24 other: {\u0026#39;city\u0026#39;: \u0026#39;Beijing\u0026#39;, \u0026#39;job\u0026#39;: \u0026#39;Engineer\u0026#39;}   å½“ç„¶ï¼Œä¸Šé¢å¤æ‚çš„è°ƒç”¨å¯ä»¥ç”¨ç®€åŒ–çš„å†™æ³•ï¼š\n1 2 3  \u0026gt;\u0026gt;\u0026gt; extra = {\u0026#39;city\u0026#39;: \u0026#39;Beijing\u0026#39;, \u0026#39;job\u0026#39;: \u0026#39;Engineer\u0026#39;} \u0026gt;\u0026gt;\u0026gt; person(\u0026#39;Jack\u0026#39;, 24, **extra) name: Jack age: 24 other: {\u0026#39;city\u0026#39;: \u0026#39;Beijing\u0026#39;, \u0026#39;job\u0026#39;: \u0026#39;Engineer\u0026#39;}   **extraè¡¨ç¤ºæŠŠextraè¿™ä¸ªdictçš„æ‰€æœ‰key-valueç”¨å…³é”®å­—å‚æ•°ä¼ å…¥åˆ°å‡½æ•°çš„**kwå‚æ•°ï¼Œkwå°†è·å¾—ä¸€ä¸ªdictï¼Œæ³¨æ„kwè·å¾—çš„dictæ˜¯extraçš„ä¸€ä»½æ‹·è´ï¼Œå¯¹kwçš„æ”¹åŠ¨ä¸ä¼šå½±å“åˆ°å‡½æ•°å¤–çš„extraã€‚\n å¦‚æœè¦é™åˆ¶å…³é”®å­—å‚æ•°çš„åå­—ï¼Œå°±å¯ä»¥ç”¨å‘½åå…³é”®å­—å‚æ•°ï¼Œä¾‹å¦‚ï¼Œåªæ¥æ”¶cityå’Œjobä½œä¸ºå…³é”®å­—å‚æ•°ã€‚è¿™ç§æ–¹å¼å®šä¹‰çš„å‡½æ•°å¦‚ä¸‹ï¼š\n1 2  def person(name, age, *, city, job): print(name, age, city, job)    å’Œå…³é”®å­—å‚æ•°**kwä¸åŒï¼Œå‘½åå…³é”®å­—å‚æ•°éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦*ï¼Œ*åé¢çš„å‚æ•°è¢«è§†ä¸ºå‘½åå…³é”®å­—å‚æ•°ã€‚\nè°ƒç”¨æ–¹å¼å¦‚ä¸‹ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; person(\u0026#39;Jack\u0026#39;, 24, city=\u0026#39;Beijing\u0026#39;, job=\u0026#39;Engineer\u0026#39;) Jack 24 Beijing Engineer   å¦‚æœå‡½æ•°å®šä¹‰ä¸­å·²ç»æœ‰äº†ä¸€ä¸ªå¯å˜å‚æ•°ï¼Œåé¢è·Ÿç€çš„å‘½åå…³é”®å­—å‚æ•°å°±ä¸å†éœ€è¦ä¸€ä¸ªç‰¹æ®Šåˆ†éš”ç¬¦*äº†ï¼š\n1 2  def person(name, age, *args, city, job): print(name, age, args, city, job)   å‘½åå…³é”®å­—å‚æ•°å¿…é¡»ä¼ å…¥å‚æ•°åï¼Œè¿™å’Œä½ç½®å‚æ•°ä¸åŒã€‚å¦‚æœæ²¡æœ‰ä¼ å…¥å‚æ•°åï¼Œè°ƒç”¨å°†æŠ¥é”™ï¼š\n1 2 3 4  \u0026gt;\u0026gt;\u0026gt; person(\u0026#39;Jack\u0026#39;, 24, \u0026#39;Beijing\u0026#39;, \u0026#39;Engineer\u0026#39;) Traceback (most recent call last): File \u0026#34;\u0026lt;stdin\u0026gt;\u0026#34;, line 1, in \u0026lt;module\u0026gt; TypeError: person() takes 2 positional arguments but 4 were given   ç”±äºè°ƒç”¨æ—¶ç¼ºå°‘å‚æ•°åcityå’Œjobï¼ŒPythonè§£é‡Šå™¨æŠŠè¿™4ä¸ªå‚æ•°å‡è§†ä¸ºä½ç½®å‚æ•°ï¼Œä½†person()å‡½æ•°ä»…æ¥å—2ä¸ªä½ç½®å‚æ•°ã€‚\nå‘½åå…³é”®å­—å‚æ•°å¯ä»¥æœ‰ç¼ºçœå€¼ï¼Œä»è€Œç®€åŒ–è°ƒç”¨ï¼š\n1 2  def person(name, age, *, city=\u0026#39;Beijing\u0026#39;, job): print(name, age, city, job)   ç”±äºå‘½åå…³é”®å­—å‚æ•°cityå…·æœ‰é»˜è®¤å€¼ï¼Œè°ƒç”¨æ—¶ï¼Œå¯ä¸ä¼ å…¥cityå‚æ•°ï¼š\n1 2  \u0026gt;\u0026gt;\u0026gt; person(\u0026#39;Jack\u0026#39;, 24, job=\u0026#39;Engineer\u0026#39;) Jack 24 Beijing Engineer   ä½¿ç”¨å‘½åå…³é”®å­—å‚æ•°æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰å¯å˜å‚æ•°ï¼Œå°±å¿…é¡»åŠ ä¸€ä¸ª*ä½œä¸ºç‰¹æ®Šåˆ†éš”ç¬¦ã€‚å¦‚æœç¼ºå°‘*ï¼ŒPythonè§£é‡Šå™¨å°†æ— æ³•è¯†åˆ«ä½ç½®å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ï¼š\n1 2 3  def person(name, age, city, job): # ç¼ºå°‘ *ï¼Œcityå’Œjobè¢«è§†ä¸ºä½ç½®å‚æ•° pass    å‚æ•°ç»„åˆ  åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Œå¯ä»¥ç”¨å¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å…³é”®å­—å‚æ•°å’Œå‘½åå…³é”®å­—å‚æ•°ï¼Œè¿™5ç§å‚æ•°éƒ½å¯ä»¥ç»„åˆä½¿ç”¨ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œå‚æ•°å®šä¹‰çš„é¡ºåºå¿…é¡»æ˜¯ï¼šå¿…é€‰å‚æ•°ã€é»˜è®¤å‚æ•°ã€å¯å˜å‚æ•°ã€å‘½åå…³é”®å­—å‚æ•°å’Œå…³é”®å­—å‚æ•°ã€‚\næ¯”å¦‚å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼ŒåŒ…å«ä¸Šè¿°è‹¥å¹²ç§å‚æ•°ï¼š\n1 2 3 4 5  def f1(a, b, c=0, *args, **kw): print(\u0026#39;a =\u0026#39;, a, \u0026#39;b =\u0026#39;, b, \u0026#39;c =\u0026#39;, c, \u0026#39;args =\u0026#39;, args, \u0026#39;kw =\u0026#39;, kw) def f2(a, b, c=0, *, d, **kw): print(\u0026#39;a =\u0026#39;, a, \u0026#39;b =\u0026#39;, b, \u0026#39;c =\u0026#39;, c, \u0026#39;d =\u0026#39;, d, \u0026#39;kw =\u0026#39;, kw)   å¯¹äºä»»æ„å‡½æ•°ï¼Œéƒ½å¯ä»¥é€šè¿‡ç±»ä¼¼func(*args, **kw)çš„å½¢å¼è°ƒç”¨å®ƒï¼Œæ— è®ºå®ƒçš„å‚æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ã€‚\nè™½ç„¶å¯ä»¥ç»„åˆå¤šè¾¾5ç§å‚æ•°ï¼Œä½†ä¸è¦åŒæ—¶ä½¿ç”¨å¤ªå¤šçš„ç»„åˆï¼Œå¦åˆ™å‡½æ•°æ¥å£çš„å¯ç†è§£æ€§å¾ˆå·®ã€‚\n é€’å½’å‡½æ•°  åœ¨å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å†…éƒ¨è°ƒç”¨è‡ªèº«æœ¬èº«ï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯é€’å½’å‡½æ•°ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æ¥è®¡ç®—é˜¶ä¹˜n! = 1 x 2 x 3 x ... x nï¼Œç”¨å‡½æ•°fact(n)è¡¨ç¤ºï¼Œå¯ä»¥çœ‹å‡ºï¼š\nfact(n) = n! = 1 x 2 x 3 x \u0026hellip; x (n-1) x n = (n-1)! x n = fact(n-1) x n\næ‰€ä»¥ï¼Œfact(n)å¯ä»¥è¡¨ç¤ºä¸ºn x fact(n-1)ï¼Œåªæœ‰n=1æ—¶éœ€è¦ç‰¹æ®Šå¤„ç†ã€‚\näºæ˜¯ï¼Œfact(n)ç”¨é€’å½’çš„æ–¹å¼å†™å‡ºæ¥å°±æ˜¯ï¼š\n1 2 3 4  def fact(n): if n==1: return 1 return n * fact(n - 1)   ä¸Šé¢å°±æ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ã€‚\né€’å½’å‡½æ•°çš„ä¼˜ç‚¹æ˜¯å®šä¹‰ç®€å•ï¼Œé€»è¾‘æ¸…æ™°ã€‚ç†è®ºä¸Šï¼Œæ‰€æœ‰çš„é€’å½’å‡½æ•°éƒ½å¯ä»¥å†™æˆå¾ªç¯çš„æ–¹å¼ï¼Œä½†å¾ªç¯çš„é€»è¾‘ä¸å¦‚é€’å½’æ¸…æ™°ã€‚\nä½¿ç”¨é€’å½’å‡½æ•°éœ€è¦æ³¨æ„é˜²æ­¢æ ˆæº¢å‡ºã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°è°ƒç”¨æ˜¯é€šè¿‡æ ˆï¼ˆstackï¼‰è¿™ç§æ•°æ®ç»“æ„å®ç°çš„ï¼Œæ¯å½“è¿›å…¥ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ ˆå°±ä¼šåŠ ä¸€å±‚æ ˆå¸§ï¼Œæ¯å½“å‡½æ•°è¿”å›ï¼Œæ ˆå°±ä¼šå‡ä¸€å±‚æ ˆå¸§ã€‚ç”±äºæ ˆçš„å¤§å°ä¸æ˜¯æ— é™çš„ï¼Œæ‰€ä»¥ï¼Œé€’å½’è°ƒç”¨çš„æ¬¡æ•°è¿‡å¤šï¼Œä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚\nå°¾é€’å½’æ˜¯æŒ‡ï¼Œåœ¨å‡½æ•°è¿”å›çš„æ—¶å€™ï¼Œè°ƒç”¨è‡ªèº«æœ¬èº«ï¼Œå¹¶ä¸”ï¼Œreturnè¯­å¥ä¸èƒ½åŒ…å«è¡¨è¾¾å¼ã€‚è¿™æ ·ï¼Œç¼–è¯‘å™¨æˆ–è€…è§£é‡Šå™¨å°±å¯ä»¥æŠŠå°¾é€’å½’åšä¼˜åŒ–ï¼Œä½¿é€’å½’æœ¬èº«æ— è®ºè°ƒç”¨å¤šå°‘æ¬¡ï¼Œéƒ½åªå ç”¨ä¸€ä¸ªæ ˆå¸§ï¼Œä¸ä¼šå‡ºç°æ ˆæº¢å‡ºçš„æƒ…å†µã€‚\nä¸Šé¢çš„fact(n)å‡½æ•°ç”±äºreturn n * fact(n - 1)å¼•å…¥äº†ä¹˜æ³•è¡¨è¾¾å¼ï¼Œæ‰€ä»¥å°±ä¸æ˜¯å°¾é€’å½’äº†ã€‚è¦æ”¹æˆå°¾é€’å½’æ–¹å¼ï¼Œéœ€è¦å¤šä¸€ç‚¹ä»£ç ï¼Œä¸»è¦æ˜¯è¦æŠŠæ¯ä¸€æ­¥çš„ä¹˜ç§¯ä¼ å…¥åˆ°é€’å½’å‡½æ•°ä¸­ï¼š\n1 2 3 4 5 6 7  def fact(n): return fact_iter(n, 1) def fact_iter(num, product): if num == 1: return product return fact_iter(num - 1, num * product)   å¯ä»¥çœ‹åˆ°ï¼Œreturn fact_iter(num - 1, num * product)ä»…è¿”å›é€’å½’å‡½æ•°æœ¬èº«ï¼Œnum - 1å’Œnum * productåœ¨å‡½æ•°è°ƒç”¨å‰å°±ä¼šè¢«è®¡ç®—ï¼Œä¸å½±å“å‡½æ•°è°ƒç”¨ã€‚\n"
},
{
	"uri": "http://yu-zhang-1985.github.io/en/categories/",
	"title": "Categories",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/gallery/",
	"title": "Galleries",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/gallery/mygallery/",
	"title": "Gallery",
	"tags": [""],
	"categories": [],
	"series": [""],
	"description": "",
	"content": ""
},
{
	"uri": "http://yu-zhang-1985.github.io/en/series/",
	"title": "Series",
	"tags": [],
	"categories": [],
	"series": [],
	"description": "",
	"content": ""
}]